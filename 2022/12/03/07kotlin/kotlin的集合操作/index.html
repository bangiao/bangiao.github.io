<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="kotlin的集合操作"><meta name="keywords" content="集合,集合转换,map映射,mapTo,mapIndexed,zip,zip pair,unzip,associate,associateTo,associateBy,associateWith,flatten,flatMap,joinToString,过滤,filter,filterInstance,partition,any,all,none,groupby,分组,slice,take,drop,Chunked,Windowed,subList,elementAt,first,last,find,random,集合排序,集合取一个元素,集合聚合操作,fold,reduce,set相关操作,联合,union,交集,intersect,差集,subtract"><meta name="author" content="Bangiao"><meta name="copyright" content="Bangiao"><title>kotlin的集合操作 | Bangiao's Notebooks</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '6.3.0'
} </script><meta name="generator" content="Hexo 6.3.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.</span> <span class="toc-text">集合转换</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#map-%E6%98%A0%E5%B0%84"><span class="toc-number">1.1.</span> <span class="toc-text">map 映射</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#map-%E5%92%8C-mapTo-%E6%8B%BF%E5%87%BA%E4%B8%80%E4%B8%AA%E4%B8%AA%E5%85%83%E7%B4%A0%E8%BD%AC%E5%8C%96%E6%88%90%E6%96%B0%E7%9A%84"><span class="toc-number">1.1.1.</span> <span class="toc-text">map 和 mapTo: 拿出一个个元素转化成新的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mapIndexed-%E5%B8%A6%E7%B4%A2%E5%BC%95%E7%9A%84%E6%98%A0%E5%B0%84"><span class="toc-number">1.1.2.</span> <span class="toc-text">mapIndexed 带索引的映射</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#zip-%E5%A4%9A%E4%B8%AA%E9%9B%86%E5%90%88%E6%95%B4%E5%90%88%E6%88%90%E4%B8%80%E4%B8%AA"><span class="toc-number">1.2.</span> <span class="toc-text">zip 多个集合整合成一个</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#zip-pair"><span class="toc-number">1.2.1.</span> <span class="toc-text">zip pair</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zip-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%B9%E6%B3%95%E6%8B%A6%E6%88%AA%E6%98%A0%E5%B0%84"><span class="toc-number">1.2.2.</span> <span class="toc-text">zip 自定义方法拦截映射</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unzip-%E8%A7%A3%E5%BC%80-pair"><span class="toc-number">1.2.3.</span> <span class="toc-text">unzip 解开 pair</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#associate-%E5%85%B3%E8%81%94-%E6%8A%8A%E5%85%83%E7%B4%A0%E6%8B%86%E5%88%86%E6%88%90%E4%B8%A4%E4%B8%AA%E5%AD%98%E6%94%BE%E5%88%B0%E6%96%B0%E7%9A%84%E9%9B%86%E5%90%88%E4%B8%AD"><span class="toc-number">1.3.</span> <span class="toc-text">associate 关联: 把元素拆分成两个存放到新的集合中</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#associate"><span class="toc-number">1.3.1.</span> <span class="toc-text">associate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#associateTo-%E6%8F%90%E4%BE%9B%E9%9B%86%E5%90%88%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8B%86%E8%A7%A3%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.2.</span> <span class="toc-text">associateTo: 提供集合和自定义拆解方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#associateBy-%E5%80%9F%E5%8A%A9%E9%9B%86%E5%90%88%E5%85%83%E7%B4%A0%E8%8E%B7%E5%BE%97-Key"><span class="toc-number">1.3.3.</span> <span class="toc-text">associateBy: 借助集合元素获得 Key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#associateWith-%E6%A0%B9%E6%8D%AE%E9%9B%86%E5%90%88%E5%85%83%E7%B4%A0%E7%9A%84%E5%80%BC%E8%AE%A1%E7%AE%97%E5%87%BA-value"><span class="toc-number">1.3.4.</span> <span class="toc-text">associateWith: 根据集合元素的值计算出 value</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#associateBy-%E8%87%AA%E5%AE%9A%E4%B9%89-key-%E5%92%8C-%E8%87%AA%E5%AE%9A%E4%B9%89-value-%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.5.</span> <span class="toc-text">associateBy: 自定义 key 和 自定义 value 方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#flatten-%E5%B0%86%E9%9B%86%E5%90%88%E7%9A%84%E5%AD%90%E9%9B%86%E5%90%88%E5%85%A8%E9%83%A8%E6%8B%BF%E5%87%BA%E6%9D%A5%E5%88%9B%E5%BB%BA%E6%88%90%E6%96%B0%E7%9A%84%E9%9B%86%E5%90%88"><span class="toc-number">1.4.</span> <span class="toc-text">flatten: 将集合的子集合全部拿出来创建成新的集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#flatMap-%E5%B0%86%E5%AD%90List%E6%8B%BF%E5%87%BA%E6%9D%A5addAll%E5%88%B0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%9A%84%E9%9B%86%E5%90%88%E4%B8%AD"><span class="toc-number">1.5.</span> <span class="toc-text">flatMap: 将子List拿出来addAll到一个新的集合中</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#joinToString-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%89%93%E5%8D%B0%E6%96%B9%E5%BC%8F%E8%87%AA%E5%AE%9A%E4%B9%89"><span class="toc-number">1.6.</span> <span class="toc-text">joinToString: 字符串打印方式自定义</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">过滤</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#filter-%E5%88%86%E6%9E%90%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E6%BB%A1%E8%B6%B3%E6%9F%90%E7%A7%8D%E6%9D%A1%E4%BB%B6"><span class="toc-number">2.1.</span> <span class="toc-text">filter: 分析每个元素是否满足某种条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#filterIsInstance-%E6%A0%B9%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BF%87%E6%BB%A4"><span class="toc-number">2.2.</span> <span class="toc-text">filterIsInstance: 根据类型过滤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#partition-%E6%A0%B9%E6%8D%AE%E6%9F%90%E7%A7%8D%E6%9D%A1%E4%BB%B6%E5%88%86%E5%89%B2%E4%B8%80%E4%B8%AA%E9%9B%86%E5%90%88%E4%B8%BA%E5%A4%9A%E4%B8%AA%E9%9B%86%E5%90%88"><span class="toc-number">2.3.</span> <span class="toc-text">partition: 根据某种条件分割一个集合为多个集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#any-all-none-%E9%AA%8C%E8%AF%81%E9%9B%86%E5%90%88%E6%98%AF%E5%90%A6%E6%BB%A1%E8%B6%B3%E6%9F%90%E4%B8%AA%E6%9D%A1%E4%BB%B6"><span class="toc-number">2.4.</span> <span class="toc-text">any all none 验证集合是否满足某个条件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#groupby-%E5%88%86%E7%BB%84"><span class="toc-number">3.</span> <span class="toc-text">groupby 分组</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%96%E9%9B%86%E5%90%88%E7%9A%84%E2%BC%80%E9%83%A8%E5%88%86"><span class="toc-number">4.</span> <span class="toc-text">取集合的⼀部分</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Slice-%E5%8F%96%E4%B8%80%E9%83%A8%E5%88%86%E9%9B%86%E5%90%88%E7%9A%84%E5%85%83%E7%B4%A0-%E7%B4%A2%E5%BC%95%E4%BB%8E0%E5%BC%80%E5%A7%8B"><span class="toc-number">4.1.</span> <span class="toc-text">Slice: 取一部分集合的元素(索引从0开始)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#take-%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%8F%96%E5%89%8Dn%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">4.2.</span> <span class="toc-text">take: 从头开始取前n个元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#drop-%E4%BB%8E%E5%A4%B4%E5%BC%80%E5%A7%8B%E5%88%A0%E9%99%A4%E5%89%8Dn%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">4.3.</span> <span class="toc-text">drop: 从头开始删除前n个元素</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Chunked-%E5%88%86%E5%9D%97"><span class="toc-number">4.4.</span> <span class="toc-text">Chunked: 分块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windowed-%E6%AD%A5%E9%95%BF%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E5%88%86%E5%9D%97%E5%87%BD%E6%95%B0"><span class="toc-number">4.5.</span> <span class="toc-text">Windowed: 步长自定义的分块函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#subList-%E4%BB%8E%E9%9B%86%E5%90%88%E9%87%8C%E6%89%BE%E4%B8%80%E4%B8%AA%E5%AD%90%E9%9B%86%E8%BF%94%E5%9B%9E"><span class="toc-number">4.6.</span> <span class="toc-text">subList: 从集合里找一个子集返回</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%96%E5%8D%95%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">5.</span> <span class="toc-text">取单个元素</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#elementAt-%E6%8C%89%E4%BD%8D%E7%BD%AE%E5%8F%96"><span class="toc-number">5.1.</span> <span class="toc-text">elementAt: 按位置取</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#first-%E5%92%8C-last"><span class="toc-number">5.2.</span> <span class="toc-text">first 和 last</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#first-and-last-%E6%8C%89%E6%9D%A1%E4%BB%B6%E5%8F%96%E4%B8%80%E4%B8%AA"><span class="toc-number">5.3.</span> <span class="toc-text">first and last: 按条件取一个</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#find-%E6%A0%B9%E6%8D%AE%E6%9D%A1%E4%BB%B6%E5%8F%96%E4%B8%80%E4%B8%AA"><span class="toc-number">5.4.</span> <span class="toc-text">find: 根据条件取一个</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#random-%E9%9A%8F%E6%9C%BA%E5%8F%96%E4%B8%80%E4%B8%AA"><span class="toc-number">5.5.</span> <span class="toc-text">random: 随机取一个</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E5%AD%98%E5%9C%A8%E4%B8%8E%E5%90%A6"><span class="toc-number">5.6.</span> <span class="toc-text">检测存在与否</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%8E%92%E5%BA%8F"><span class="toc-number">6.</span> <span class="toc-text">集合排序</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E8%81%9A%E5%90%88%E6%93%8D%E4%BD%9C"><span class="toc-number">7.</span> <span class="toc-text">集合聚合操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#fold-%E6%9C%89%E5%88%9D%E5%A7%8B%E5%8C%96%E5%80%BCR%E5%92%8C%E9%9B%86%E5%90%88T%E7%9A%84%E6%9F%90%E7%A7%8D%E7%BB%84%E5%90%88%E7%9A%84%E7%BB%93%E6%9E%9CR%E8%BF%94%E5%9B%9E%E5%9B%9E%E5%8E%BB"><span class="toc-number">7.1.</span> <span class="toc-text">fold: 有初始化值R和集合T的某种组合的结果R返回回去</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reduce-%E6%8A%8A%E9%9B%86%E5%90%88%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%80%BC%E5%BD%93%E4%BD%9CS-%E7%84%B6%E5%90%8E%E5%92%8C%E9%9B%86%E5%90%88%E7%9A%84%E6%AF%8F%E4%B8%AA%E5%85%83%E7%B4%A0T%E5%81%9A%E6%9F%90%E7%A7%8D%E6%93%8D%E4%BD%9C%E6%9C%80%E5%90%8E%E8%BF%94%E5%9B%9E-S"><span class="toc-number">7.2.</span> <span class="toc-text">reduce: 把集合的第一个值当作S, 然后和集合的每个元素T做某种操作最后返回 S</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#set%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C"><span class="toc-number">8.</span> <span class="toc-text">set相关操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%81%94%E5%90%88-union-%E3%80%81-%E4%BA%A4%E9%9B%86-intersect-%E5%92%8C-%E5%B7%AE%E9%9B%86-subtract"><span class="toc-number">8.1.</span> <span class="toc-text">联合 union 、 交集 intersect 和 差集 subtract</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://imgsa.baidu.com/forum/pic/item/c8179682d158ccbf63dc944d1bd8bc3eb03541a9.jpg"></div><div class="author-info__name text-center">Bangiao</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/bangiao">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">59</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">608</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">7</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">我的博客</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://juejin.cn/user/4248168662314823">掘金</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://blog.csdn.net/qq_30690165">CSDN</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://www.cnblogs.com/bangiao/">博客园</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://gitee.com/bangiao_admin/projects">Gitee笔记源码</a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Bangiao's Notebooks</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">文章列表</a><a class="site-page" href="/tags">文章标签</a><a class="site-page" href="/categories">文章分类</a><a class="site-page" href="/sources">笔记源码</a><a class="site-page" href="/about">关于</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">kotlin的集合操作</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-12-03</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/kotlin/">kotlin</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><blockquote>
<p>想要定义 kotlin 的集合比较简单, 你想要什么集合, 就给什么集合后面添加 <code>Of</code> 就出来了, setOf, hashSetOf, ArrayListOf, listOf, MapOf… 所以本文不讲如何创建集合了</p>
</blockquote>
<h1 id="集合转换"><a href="#集合转换" class="headerlink" title="集合转换"></a>集合转换</h1><blockquote>
<p>把旧集合通过某种方式转化成<strong>新的</strong>集合</p>
</blockquote>
<h2 id="map-映射"><a href="#map-映射" class="headerlink" title="map 映射"></a>map 映射</h2><h3 id="map-和-mapTo-拿出一个个元素转化成新的"><a href="#map-和-mapTo-拿出一个个元素转化成新的" class="headerlink" title="map 和 mapTo: 拿出一个个元素转化成新的"></a>map 和 mapTo: 拿出一个个元素转化成新的</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b8645c5afb741a68df48f081c4c8797~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>转化, 把 <code>T</code> 转化 成 <code>R</code>, 然后再存入到一个新的集合中</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">map</span><span class="params">(transform: (<span class="type">T</span>) -&gt; <span class="type">R</span>)</span></span>: List&lt;R&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> mapTo(ArrayList&lt;R&gt;(collectionSizeOrDefault(<span class="number">10</span>)), transform)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R, C : MutableCollection&lt;in R&gt;</span>&gt; Iterable<span class="type">&lt;T&gt;</span>.<span class="title">mapTo</span><span class="params">(destination: <span class="type">C</span>, transform: (<span class="type">T</span>) -&gt; <span class="type">R</span>)</span></span>: C &#123;</span><br><span class="line">    <span class="keyword">for</span> (item <span class="keyword">in</span> <span class="keyword">this</span>)</span><br><span class="line">        <span class="comment">// ******************</span></span><br><span class="line">        destination.add(transform(item))</span><br><span class="line">    <span class="keyword">return</span> destination</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>destination: 是 <code>ArrayList</code> 类型<br>transform: 是转化函数</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list = (<span class="number">1.</span><span class="number">.10</span>).toMutableList()</span><br><span class="line"><span class="keyword">val</span> map: List&lt;<span class="built_in">Double</span>&gt; = list.map &#123;</span><br><span class="line">   it * <span class="number">0.9</span></span><br><span class="line">&#125;</span><br><span class="line">println(map) <span class="comment">// [0.9, 1.8, 2.7, 3.6, 4.5, 5.4, 6.3, 7.2, 8.1, 9.0]</span></span><br></pre></td></tr></table></figure>

<h3 id="mapIndexed-带索引的映射"><a href="#mapIndexed-带索引的映射" class="headerlink" title="mapIndexed 带索引的映射"></a>mapIndexed 带索引的映射</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6ffb765785f7484f9ea1bd33b0aebf18~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R, C : MutableCollection&lt;in R&gt;</span>&gt; Iterable<span class="type">&lt;T&gt;</span>.<span class="title">mapIndexedTo</span><span class="params">(destination: <span class="type">C</span>, transform: (<span class="type">index</span>: <span class="type">Int</span>, <span class="type">T</span>) -&gt; <span class="type">R</span>)</span></span>: C &#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (item <span class="keyword">in</span> <span class="keyword">this</span>)</span><br><span class="line">        <span class="comment">// ******************</span></span><br><span class="line">        destination.add(transform(checkIndexOverflow(index++), item))</span><br><span class="line">    <span class="keyword">return</span> destination</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> indexed = list.mapIndexed &#123; index, i -&gt;</span><br><span class="line">   <span class="string">&quot;k: <span class="variable">$index</span> v: <span class="variable">$i</span>&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [k: 0 v: 1, k: 1 v: 2, k: 2 v: 3, k: 3 v: 4, k: 4 v: 5, k: 5 v: 6, k: 6 v: 7, k: 7 v: 8, k: 8 v: 9, k: 9 v: 10]</span></span><br><span class="line">println(indexed)</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> notNullList: List&lt;<span class="built_in">Byte</span>&gt; = list.mapNotNull &#123;</span><br><span class="line">   <span class="keyword">if</span> (it % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="literal">null</span></span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      it.toByte()</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [1, 3, 5, 7, 9]</span></span><br><span class="line">println(notNullList)</span><br></pre></td></tr></table></figure>

<h2 id="zip-多个集合整合成一个"><a href="#zip-多个集合整合成一个" class="headerlink" title="zip 多个集合整合成一个"></a>zip 多个集合整合成一个</h2><h3 id="zip-pair"><a href="#zip-pair" class="headerlink" title="zip pair"></a>zip pair</h3><p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R, V&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">zip</span><span class="params">(other: <span class="type">Iterable</span>&lt;<span class="type">R</span>&gt;, transform: (<span class="type">a</span>: <span class="type">T</span>, <span class="type">b</span>: <span class="type">R</span>) -&gt; <span class="type">V</span>)</span></span>: List&lt;V&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> first = iterator()</span><br><span class="line">    <span class="keyword">val</span> second = other.iterator()</span><br><span class="line">    <span class="keyword">val</span> list = ArrayList&lt;V&gt;(minOf(collectionSizeOrDefault(<span class="number">10</span>), other.collectionSizeOrDefault(<span class="number">10</span>)))</span><br><span class="line">    <span class="keyword">while</span> (first.hasNext() &amp;&amp; second.hasNext()) &#123;</span><br><span class="line">        <span class="comment">// ******************</span></span><br><span class="line">        list.add(transform(first.next(), second.next()))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>根据方法简单的分析, 发现 <code>T</code> 发起的 <code>zip合拢</code> 操作, 将 <code>R</code> 类型的集合的数据, 借助 <code>transform</code> 函数, 将 <code>T</code> 和 <code>R</code> 传入 转化处新的类型 <code>V</code>, 而返回的接口类型是 <code>List&lt;V&gt;</code> 是 <code>ArrayList</code> 类型</p>
<p>使用方法: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> colors = listOf(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;brown&quot;</span>, <span class="string">&quot;grey&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> animals = listOf(<span class="string">&quot;fox&quot;</span>, <span class="string">&quot;bear&quot;</span>, <span class="string">&quot;wolf&quot;</span>)</span><br><span class="line">println(animals zip colors) <span class="comment">// [(fox, red), (bear, brown), (wolf, grey)]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> twoAnimal = listOf(<span class="string">&quot;fox&quot;</span>, <span class="string">&quot;bear&quot;</span>)</span><br><span class="line">colors.zip(twoAnimal) <span class="comment">// [(red, fox), (brown, bear)]</span></span><br></pre></td></tr></table></figure>

<p>上面这段代码走的是 <code>zip(other) &#123; t1, t2 -&gt; t1 to t2 &#125;</code> 也就是说, 默认走的是 <code>Pair</code>, 也就是说将 <code>Pair</code> 存入到 <code>ArrayList</code> 中</p>
<h3 id="zip-自定义方法拦截映射"><a href="#zip-自定义方法拦截映射" class="headerlink" title="zip 自定义方法拦截映射"></a>zip 自定义方法拦截映射</h3><p>那么现在给个自定义方式的 <code>zip</code>, <code>public inline fun &lt;T, R, V&gt; Iterable&lt;T&gt;.zip(other: Iterable&lt;R&gt;, transform: (a: T, b: R) -&gt; V): List&lt;V&gt;</code></p>
<p>使用方法: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> colors = listOf(<span class="string">&quot;red&quot;</span>, <span class="string">&quot;brown&quot;</span>, <span class="string">&quot;grey&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> animals = listOf(<span class="string">&quot;fox&quot;</span>, <span class="string">&quot;bear&quot;</span>, <span class="string">&quot;wolf&quot;</span>)</span><br><span class="line">println(colors.zip(animals) &#123; color, animal -&gt;</span><br><span class="line">   <span class="string">&quot;^<span class="variable">$color</span>, <span class="variable">$animal</span>^&quot;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="unzip-解开-pair"><a href="#unzip-解开-pair" class="headerlink" title="unzip 解开 pair"></a>unzip 解开 pair</h3><p><code>unzip</code> 函数: 解开 <code>Pair</code> 的 <code>first</code> 和 <code>second</code></p>
<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> Iterable<span class="type">&lt;Pair&lt;T, R&gt;</span>&gt;.<span class="title">unzip</span><span class="params">()</span></span>: Pair&lt;List&lt;T&gt;, List&lt;R&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> expectedSize = collectionSizeOrDefault(<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">val</span> listT = ArrayList&lt;T&gt;(expectedSize)</span><br><span class="line">    <span class="keyword">val</span> listR = ArrayList&lt;R&gt;(expectedSize)</span><br><span class="line">    <span class="keyword">for</span> (pair <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="comment">// ******************</span></span><br><span class="line">        listT.add(pair.first)</span><br><span class="line">        listR.add(pair.second)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> listT to listR</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用方法: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numberPairs = listOf(<span class="string">&quot;one&quot;</span> to <span class="number">1</span>, <span class="string">&quot;two&quot;</span> to <span class="number">2</span>, <span class="string">&quot;three&quot;</span> to <span class="number">3</span>, <span class="string">&quot;four&quot;</span> to <span class="number">4</span>)</span><br><span class="line"><span class="keyword">val</span> pair = numberPairs.unzip()</span><br><span class="line">println(pair.first) <span class="comment">// [one, two, three, four]</span></span><br><span class="line">println(pair.second) <span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<h2 id="associate-关联-把元素拆分成两个存放到新的集合中"><a href="#associate-关联-把元素拆分成两个存放到新的集合中" class="headerlink" title="associate 关联: 把元素拆分成两个存放到新的集合中"></a>associate 关联: 把元素拆分成两个存放到新的集合中</h2><h3 id="associate"><a href="#associate" class="headerlink" title="associate"></a>associate</h3><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/77c0c315ebcb4e228be9792f451281df~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>看起来就是把 <code>T</code> 按照某种方式分割成 <code>k</code> 和 <code>v</code> 然后存储到 <code>Pair</code> 中</p>
<p>使用方式: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> associate = numbers.associate &#123; Pair(it.length, it) &#125;</span><br><span class="line">println(associate) <span class="comment">// &#123;3=two, 5=three, 4=four&#125;</span></span><br></pre></td></tr></table></figure>

<p><code>associateTo(LinkedHashMap&lt;K, V&gt;(capacity), transform)</code> 他的返回值为 <code>LinkedHashMap</code></p>
<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, K, V, M : MutableMap&lt;in K, in V&gt;</span>&gt; Iterable<span class="type">&lt;T&gt;</span>.<span class="title">associateTo</span><span class="params">(destination: <span class="type">M</span>, transform: (<span class="type">T</span>) -&gt; <span class="type">Pair</span>&lt;<span class="type">K</span>, V&gt;)</span></span>: M &#123;</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="comment">// ******************</span></span><br><span class="line">        destination += transform(element)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> destination</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>看其源码果然这样</p>
<p>不过值得注意的是 <code>associateTo</code></p>
<h3 id="associateTo-提供集合和自定义拆解方法"><a href="#associateTo-提供集合和自定义拆解方法" class="headerlink" title="associateTo: 提供集合和自定义拆解方法"></a>associateTo: 提供集合和自定义拆解方法</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> hashMap = numbers.associateTo(HashMap(<span class="number">10</span>)) &#123;</span><br><span class="line">   Pair(it.length, it)</span><br><span class="line">&#125;</span><br><span class="line">println(hashMap) <span class="comment">// &#123;3=two, 5=three, 4=four&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="associateBy-借助集合元素获得-Key"><a href="#associateBy-借助集合元素获得-Key" class="headerlink" title="associateBy: 借助集合元素获得 Key"></a>associateBy: 借助集合元素获得 <code>Key</code></h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> associateBy = numbers.associateBy &#123; it.length &#125;</span><br><span class="line">println(associateBy) <span class="comment">// &#123;3=two, 5=three, 4=four&#125;</span></span><br></pre></td></tr></table></figure>

<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, K, M : MutableMap&lt;in K, in T&gt;</span>&gt; Iterable<span class="type">&lt;T&gt;</span>.<span class="title">associateByTo</span><span class="params">(destination: <span class="type">M</span>, keySelector: (<span class="type">T</span>) -&gt; <span class="type">K</span>)</span></span>: M &#123;</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="comment">// ******************</span></span><br><span class="line">        destination.put(keySelector(element), element)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> destination</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="associateWith-根据集合元素的值计算出-value"><a href="#associateWith-根据集合元素的值计算出-value" class="headerlink" title="associateWith: 根据集合元素的值计算出 value"></a>associateWith: 根据集合元素的值计算出 value</h3><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/609df853585a4651b4533d0ecb88fdec~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> associateWith = numbers.associateWith &#123;</span><br><span class="line">   it.length</span><br><span class="line">&#125;</span><br><span class="line">println(associateWith) <span class="comment">// &#123;one=3, two=3, three=5, four=4&#125;</span></span><br></pre></td></tr></table></figure>

<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;K, V, M : MutableMap&lt;in K, in V&gt;</span>&gt; Iterable<span class="type">&lt;K&gt;</span>.<span class="title">associateWithTo</span><span class="params">(destination: <span class="type">M</span>, valueSelector: (<span class="type">K</span>) -&gt; <span class="type">V</span>)</span></span>: M &#123;</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="comment">// ******************</span></span><br><span class="line">        destination.put(element, valueSelector(element))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> destination</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="associateBy-自定义-key-和-自定义-value-方式"><a href="#associateBy-自定义-key-和-自定义-value-方式" class="headerlink" title="associateBy: 自定义 key 和 自定义 value 方式"></a>associateBy: 自定义 key 和 自定义 value 方式</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67698ad513a946d2b3b0d12833817e12~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line">println(numbers.associateBy(&#123; it.length &#125;, &#123; it.toUpperCase() &#125;)) <span class="comment">// &#123;3=TWO, 5=THREE, 4=FOUR&#125;</span></span><br></pre></td></tr></table></figure>

<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, K, V&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">associateBy</span><span class="params">(keySelector: (<span class="type">T</span>) -&gt; <span class="type">K</span>, valueTransform: (<span class="type">T</span>) -&gt; <span class="type">V</span>)</span></span>: Map&lt;K, V&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> capacity = mapCapacity(collectionSizeOrDefault(<span class="number">10</span>)).coerceAtLeast(<span class="number">16</span>)</span><br><span class="line">    <span class="keyword">return</span> associateByTo(LinkedHashMap&lt;K, V&gt;(capacity), keySelector, valueTransform)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, K, V, M : MutableMap&lt;in K, in V&gt;</span>&gt; Iterable<span class="type">&lt;T&gt;</span>.<span class="title">associateByTo</span><span class="params">(destination: <span class="type">M</span>, keySelector: (<span class="type">T</span>) -&gt; <span class="type">K</span>, valueTransform: (<span class="type">T</span>) -&gt; <span class="type">V</span>)</span></span>: M &#123;</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">    <span class="comment">// 关键代码: </span></span><br><span class="line">        destination.put(keySelector(element), valueTransform(element))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> destination</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="flatten-将集合的子集合全部拿出来创建成新的集合"><a href="#flatten-将集合的子集合全部拿出来创建成新的集合" class="headerlink" title="flatten: 将集合的子集合全部拿出来创建成新的集合"></a>flatten: 将集合的子集合全部拿出来创建成新的集合</h2><blockquote>
<p><code>List&lt;List&lt;String&gt;&gt;</code></p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numberSets = listOf(setOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), setOf(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>), setOf(<span class="number">1</span>, <span class="number">2</span>))</span><br><span class="line"><span class="keyword">val</span> flatten = numberSets.flatten()</span><br><span class="line">println(flatten) <span class="comment">// [1, 2, 3, 4, 5, 6, 1, 2]</span></span><br></pre></td></tr></table></figure>

<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Iterable<span class="type">&lt;Iterable&lt;T&gt;</span>&gt;.<span class="title">flatten</span><span class="params">()</span></span>: List&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> result = ArrayList&lt;T&gt;()</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        result.addAll(element)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="flatMap-将子List拿出来addAll到一个新的集合中"><a href="#flatMap-将子List拿出来addAll到一个新的集合中" class="headerlink" title="flatMap: 将子List拿出来addAll到一个新的集合中"></a>flatMap: 将子List拿出来addAll到一个新的集合中</h2><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/333700052ffd4ed1b17b3ee341b4ec38~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> containers = listOf(</span><br><span class="line">   listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>),</span><br><span class="line">   listOf(<span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>, <span class="string">&quot;six&quot;</span>),</span><br><span class="line">   listOf(<span class="string">&quot;seven&quot;</span>, <span class="string">&quot;eight&quot;</span>)</span><br><span class="line">)</span><br><span class="line"><span class="keyword">val</span> flatMap = containers.flatMap &#123;</span><br><span class="line">   it</span><br><span class="line">&#125;</span><br><span class="line">println(flatMap) <span class="comment">// [one, two, three, four, five, six, seven, eight]</span></span><br></pre></td></tr></table></figure>

<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">flatMap</span><span class="params">(transform: (<span class="type">T</span>) -&gt; <span class="type">Iterable</span>&lt;<span class="type">R</span>&gt;)</span></span>: List&lt;R&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> flatMapTo(ArrayList&lt;R&gt;(), transform)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, R, C : MutableCollection&lt;in R&gt;</span>&gt; Iterable<span class="type">&lt;T&gt;</span>.<span class="title">flatMapTo</span><span class="params">(destination: <span class="type">C</span>, transform: (<span class="type">T</span>) -&gt; <span class="type">Iterable</span>&lt;<span class="type">R</span>&gt;)</span></span>: C &#123;</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">val</span> list = transform(element)</span><br><span class="line">        destination.addAll(list)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> destination</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>其他的函数就不演示了, 和上面的 Map 和 associate 差不多</p>
</blockquote>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce25e02f420c4f7fabdb277e968b2560~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="joinToString-字符串打印方式自定义"><a href="#joinToString-字符串打印方式自定义" class="headerlink" title="joinToString: 字符串打印方式自定义"></a>joinToString: 字符串打印方式自定义</h2><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc7539c7c489407d9b31342764d7fc36~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> joinToString =</span><br><span class="line">   numbers.joinToString(separator = <span class="string">&quot;^&quot;</span>, prefix = <span class="string">&quot;#&quot;</span>, postfix = <span class="string">&quot;#&quot;</span>, transform = &#123; it.toUpperCase() &#125;)</span><br><span class="line">println(joinToString) <span class="comment">// #ONE^TWO^THREE^FOUR#</span></span><br></pre></td></tr></table></figure>

<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">joinToString</span><span class="params">(separator: <span class="type">CharSequence</span> = <span class="string">&quot;, &quot;</span>, prefix: <span class="type">CharSequence</span> = <span class="string">&quot;&quot;</span>, postfix: <span class="type">CharSequence</span> = <span class="string">&quot;&quot;</span>, limit: <span class="type">Int</span> = <span class="number">-1</span>, truncated: <span class="type">CharSequence</span> = <span class="string">&quot;...&quot;</span>, transform: ((<span class="type">T</span>) -&gt; <span class="type">CharSequence</span>)? = <span class="literal">null</span>)</span></span>: String &#123;</span><br><span class="line">    <span class="keyword">return</span> joinTo(StringBuilder(), separator, prefix, postfix, limit, truncated, transform).toString()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T, A : Appendable&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">joinTo</span><span class="params">(buffer: <span class="type">A</span>, separator: <span class="type">CharSequence</span> = <span class="string">&quot;, &quot;</span>, prefix: <span class="type">CharSequence</span> = <span class="string">&quot;&quot;</span>, postfix: <span class="type">CharSequence</span> = <span class="string">&quot;&quot;</span>, limit: <span class="type">Int</span> = <span class="number">-1</span>, truncated: <span class="type">CharSequence</span> = <span class="string">&quot;...&quot;</span>, transform: ((<span class="type">T</span>) -&gt; <span class="type">CharSequence</span>)? = <span class="literal">null</span>)</span></span>: A &#123;</span><br><span class="line">    <span class="comment">// buffer ==&gt; StringBuilder</span></span><br><span class="line">    buffer.append(prefix)</span><br><span class="line">    <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (++count &gt; <span class="number">1</span>) buffer.append(separator)</span><br><span class="line">        <span class="keyword">if</span> (limit &lt; <span class="number">0</span> || count &lt;= limit) &#123;</span><br><span class="line">            buffer.appendElement(element, transform)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果 count 大于 limit 的话, 直接加入阶段字符串</span></span><br><span class="line">    <span class="keyword">if</span> (limit &gt;= <span class="number">0</span> &amp;&amp; count &gt; limit) buffer.append(truncated)</span><br><span class="line">    <span class="comment">// 加入结尾标志</span></span><br><span class="line">    buffer.append(postfix)</span><br><span class="line">    <span class="keyword">return</span> buffer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h1><blockquote>
<p>根据接受的lambda返回的 true or false 来产生新的集合</p>
</blockquote>
<h2 id="filter-分析每个元素是否满足某种条件"><a href="#filter-分析每个元素是否满足某种条件" class="headerlink" title="filter: 分析每个元素是否满足某种条件"></a>filter: 分析每个元素是否满足某种条件</h2><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fe63a72acf1246f49b5dfabc462a7227~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>从遍历元素, 然后判断元素是否满足某种条件返回 boolean 类型</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line">println(numbers.filter &#123; it.length &gt; <span class="number">3</span> &#125;) <span class="comment">// [three, four]</span></span><br></pre></td></tr></table></figure>

<p>过滤 map 的条件是否满足</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/161e19f0b9444ba8b3b2db41f854f4f1~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbersMap = mapOf(<span class="string">&quot;key1&quot;</span> to <span class="number">1</span>, <span class="string">&quot;key2&quot;</span> to <span class="number">2</span>, <span class="string">&quot;key3&quot;</span> to <span class="number">3</span>, <span class="string">&quot;key11&quot;</span> to <span class="number">11</span>)</span><br><span class="line">println(numbersMap.filter &#123; (key, value) -&gt;</span><br><span class="line">   key.endsWith(<span class="string">&quot;1&quot;</span>) &amp;&amp; value &gt; <span class="number">3</span></span><br><span class="line">&#125;) <span class="comment">// &#123;key11=11&#125;</span></span><br></pre></td></tr></table></figure>


<h2 id="filterIsInstance-根据类型过滤"><a href="#filterIsInstance-根据类型过滤" class="headerlink" title="filterIsInstance: 根据类型过滤"></a>filterIsInstance: 根据类型过滤</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="number">1</span>, <span class="string">&quot;two&quot;</span>, <span class="number">3.0</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> list = numbers.filterIsInstance&lt;<span class="built_in">Double</span>&gt;()</span><br><span class="line">println(list)</span><br></pre></td></tr></table></figure>

<p>源码: </p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ef1f37d594bf4834ae11300e6e1739fb~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="partition-根据某种条件分割一个集合为多个集合"><a href="#partition-根据某种条件分割一个集合为多个集合" class="headerlink" title="partition: 根据某种条件分割一个集合为多个集合"></a>partition: 根据某种条件分割一个集合为多个集合</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> partition = numbers.partition &#123; it.length &gt; <span class="number">3</span> &#125;</span><br><span class="line">println(partition.first)</span><br><span class="line">println(partition.second)</span><br></pre></td></tr></table></figure>

<p>源码: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;T&gt;</span> Iterable<span class="type">&lt;T&gt;</span>.<span class="title">partition</span><span class="params">(predicate: (<span class="type">T</span>) -&gt; <span class="type">Boolean</span>)</span></span>: Pair&lt;List&lt;T&gt;, List&lt;T&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> first = ArrayList&lt;T&gt;()</span><br><span class="line">    <span class="keyword">val</span> second = ArrayList&lt;T&gt;()</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> <span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="comment">// 核心代码在这里</span></span><br><span class="line">        <span class="keyword">if</span> (predicate(element)) &#123;</span><br><span class="line">            first.add(element)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            second.add(element)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Pair(first, second)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="any-all-none-验证集合是否满足某个条件"><a href="#any-all-none-验证集合是否满足某个条件" class="headerlink" title="any all none 验证集合是否满足某个条件"></a>any all none 验证集合是否满足某个条件</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line">println(numbers.any &#123; it.startsWith(<span class="string">&quot;t&quot;</span>) &#125;) <span class="comment">// true 只要有一个元素满足条件就返回true</span></span><br><span class="line">println(numbers.none &#123; it.length &lt; <span class="number">2</span> &#125;) <span class="comment">// 如果有一个条件满足就返回 false , 否则返回 true</span></span><br><span class="line">println(numbers.all &#123; it.length == <span class="number">3</span> &#125;) <span class="comment">// 所有都要满足条件才会返回 true, 否则返回false</span></span><br></pre></td></tr></table></figure>

<h1 id="groupby-分组"><a href="#groupby-分组" class="headerlink" title="groupby 分组"></a>groupby 分组</h1><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc039ec9870e44b0be4ec3b58d9ac10a~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>可以根据集合中的元素计算出分组的<code>key</code>, 然后存放满足该<code>key</code>的 <code>List</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> groupBy = numbers.groupBy &#123; it.length &#125;.toSortedMap &#123; o1, o2 -&gt; o1 - o2 &#125;</span><br><span class="line">println(groupBy) <span class="comment">// &#123;3=[one, two], 4=[four, five], 5=[three]&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> groupBy1 = numbers.groupBy(&#123; it.length &#125;) &#123;</span><br><span class="line">   it.toUpperCase()</span><br><span class="line">&#125;</span><br><span class="line">println(groupBy1) <span class="comment">// &#123;3=[ONE, TWO], 5=[THREE], 4=[FOUR, FIVE]&#125;</span></span><br></pre></td></tr></table></figure>

<p>grouping: 根据 value 获得 key</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>, <span class="string">&quot;six&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> grouping = numbers.groupingBy &#123; it.length &#125;</span><br><span class="line">println(grouping.keyOf(<span class="string">&quot;six&quot;</span>)) <span class="comment">// 3</span></span><br><span class="line">println(grouping.keyOf(<span class="string">&quot;three&quot;</span>)) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>


<h1 id="取集合的⼀部分"><a href="#取集合的⼀部分" class="headerlink" title="取集合的⼀部分"></a>取集合的⼀部分</h1><h2 id="Slice-取一部分集合的元素-索引从0开始"><a href="#Slice-取一部分集合的元素-索引从0开始" class="headerlink" title="Slice: 取一部分集合的元素(索引从0开始)"></a>Slice: 取一部分集合的元素(索引从0开始)</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>, <span class="string">&quot;six&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> slice = numbers.slice(<span class="number">0.</span><span class="number">.3</span>) <span class="comment">// [one, two, three, four]</span></span><br><span class="line">println(slice)</span><br><span class="line"><span class="keyword">val</span> slice1 = numbers.slice(<span class="number">3.</span><span class="number">.5</span>) <span class="comment">// [four, five, six]</span></span><br><span class="line">println(slice1)</span><br></pre></td></tr></table></figure>

<h2 id="take-从头开始取前n个元素"><a href="#take-从头开始取前n个元素" class="headerlink" title="take: 从头开始取前n个元素"></a>take: 从头开始取前n个元素</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>, <span class="string">&quot;six&quot;</span>)</span><br><span class="line">println(numbers.take(<span class="number">1</span>)) <span class="comment">// [one]</span></span><br><span class="line">println(numbers.take(<span class="number">2</span>)) <span class="comment">// [one, two]</span></span><br><span class="line">println(numbers.take(<span class="number">6</span>)) <span class="comment">// [one, two, three, four, five, six]</span></span><br></pre></td></tr></table></figure>

<h2 id="drop-从头开始删除前n个元素"><a href="#drop-从头开始删除前n个元素" class="headerlink" title="drop: 从头开始删除前n个元素"></a>drop: 从头开始删除前n个元素</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>, <span class="string">&quot;six&quot;</span>)</span><br><span class="line">println(numbers.drop(<span class="number">1</span>)) <span class="comment">// 从前面开始删除前1个</span></span><br><span class="line">println(numbers.drop(<span class="number">2</span>)) <span class="comment">// 从前面开始删除前2个</span></span><br></pre></td></tr></table></figure>

<h2 id="Chunked-分块"><a href="#Chunked-分块" class="headerlink" title="Chunked: 分块"></a>Chunked: 分块</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11], [12, 13]]</span></span><br><span class="line"><span class="comment">[3, 12, 21, 30, 25]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">val</span> numbers = (<span class="number">0.</span><span class="number">.13</span>).toList()</span><br><span class="line"><span class="keyword">val</span> chunked: List&lt;List&lt;<span class="built_in">Int</span>&gt;&gt; = numbers.chunked(<span class="number">3</span>)</span><br><span class="line">println(chunked) <span class="comment">// [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11], [12, 13]]</span></span><br><span class="line"><span class="keyword">val</span> chunked1 = numbers.chunked(<span class="number">3</span>) &#123; list -&gt;</span><br><span class="line">   list.sum()</span><br><span class="line">&#125;</span><br><span class="line">println(chunked1) <span class="comment">// [3, 12, 21, 30, 25]</span></span><br></pre></td></tr></table></figure>

<h2 id="Windowed-步长自定义的分块函数"><a href="#Windowed-步长自定义的分块函数" class="headerlink" title="Windowed: 步长自定义的分块函数"></a>Windowed: 步长自定义的分块函数</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> windowed = numbers.windowed(<span class="number">3</span>, step = <span class="number">1</span>, partialWindows = <span class="literal">false</span>) &#123; list -&gt;</span><br><span class="line">   list.map &#123; it.toUpperCase() &#125;</span><br><span class="line">&#125;</span><br><span class="line">println(windowed) <span class="comment">// [[ONE, TWO, THREE], [TWO, THREE, FOUR], [THREE, FOUR, FIVE]]</span></span><br></pre></td></tr></table></figure>

<h2 id="subList-从集合里找一个子集返回"><a href="#subList-从集合里找一个子集返回" class="headerlink" title="subList: 从集合里找一个子集返回"></a>subList: 从集合里找一个子集返回</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>, <span class="string">&quot;six&quot;</span>)</span><br><span class="line">println(numbers.javaClass) <span class="comment">// class java.util.Arrays$ArrayList</span></span><br><span class="line"><span class="keyword">val</span> subList = numbers.subList(<span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line">println(subList.javaClass) <span class="comment">// class java.util.AbstractList$RandomAccessSubList</span></span><br><span class="line">println(subList) <span class="comment">// [one, two]</span></span><br></pre></td></tr></table></figure>

<h1 id="取单个元素"><a href="#取单个元素" class="headerlink" title="取单个元素"></a>取单个元素</h1><h2 id="elementAt-按位置取"><a href="#elementAt-按位置取" class="headerlink" title="elementAt: 按位置取"></a>elementAt: 按位置取</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = linkedSetOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>)</span><br><span class="line">println(numbers.elementAt(<span class="number">0</span>)) <span class="comment">// one</span></span><br><span class="line">println(numbers.elementAt(<span class="number">3</span>)) <span class="comment">// four</span></span><br></pre></td></tr></table></figure>

<h2 id="first-和-last"><a href="#first-和-last" class="headerlink" title="first 和 last"></a>first 和 last</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = linkedSetOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>)</span><br><span class="line">println(numbers.first()) <span class="comment">// one</span></span><br><span class="line">println(numbers.last()) <span class="comment">// five</span></span><br></pre></td></tr></table></figure>


<h2 id="first-and-last-按条件取一个"><a href="#first-and-last-按条件取一个" class="headerlink" title="first and last: 按条件取一个"></a>first and last: 按条件取一个</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = linkedSetOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>)</span><br><span class="line">println(numbers.first &#123; it.length == <span class="number">4</span> &#125;) <span class="comment">// four</span></span><br></pre></td></tr></table></figure>


<h2 id="find-根据条件取一个"><a href="#find-根据条件取一个" class="headerlink" title="find: 根据条件取一个"></a>find: 根据条件取一个</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">println(numbers.find &#123; it &gt; <span class="number">3</span> &#125;) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h2 id="random-随机取一个"><a href="#random-随机取一个" class="headerlink" title="random: 随机取一个"></a>random: 随机取一个</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> number = listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">println(number.random()) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h2 id="检测存在与否"><a href="#检测存在与否" class="headerlink" title="检测存在与否"></a>检测存在与否</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">println(numbers.contains(<span class="number">2</span>))</span><br><span class="line">println(numbers.containsAll(listOf(<span class="number">3</span>, <span class="number">4</span>)))</span><br></pre></td></tr></table></figure>

<blockquote>
<p>还有 <code>isEmpty</code> 和 <code>isNotEmpty</code> 就不做测试了</p>
</blockquote>
<h1 id="集合排序"><a href="#集合排序" class="headerlink" title="集合排序"></a>集合排序</h1><p><code>Comparable</code> 主要给类实现用</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Program</span>(<span class="keyword">val</span> version: <span class="built_in">Int</span>) : Comparable&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">   <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">compareTo</span><span class="params">(other: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = <span class="keyword">this</span>.version - other</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">val</span> program = Program(<span class="number">13</span>)</span><br><span class="line">   println(program &gt; <span class="number">10</span>)</span><br><span class="line">   println(program &gt; <span class="number">13</span>)</span><br><span class="line">   println(program &lt; <span class="number">20</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可以不使用<code>Comparable</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Program</span>(<span class="keyword">val</span> version: <span class="built_in">Int</span>) &#123;</span><br><span class="line">   <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">compareTo</span><span class="params">(program2: <span class="type">Program</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.version - program2.version</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">compareTo</span><span class="params">(i: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.version - i</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">val</span> program1 = Program(<span class="number">13</span>)</span><br><span class="line">   <span class="keyword">val</span> program2 = Program(<span class="number">14</span>)</span><br><span class="line">   println(program1 &gt; program2)</span><br><span class="line">   program1 &gt; <span class="number">14</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>倒序和随机顺序</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>, <span class="string">&quot;four&quot;</span>)</span><br><span class="line">println(numbers) <span class="comment">// [one, two, three, four]</span></span><br><span class="line">println(numbers.reversed()) <span class="comment">// [four, three, two, one]</span></span><br><span class="line">println(numbers.asReversed()) <span class="comment">// [four, three, two, one]</span></span><br><span class="line">println(numbers.shuffled()) <span class="comment">// [four, one, three, two]</span></span><br></pre></td></tr></table></figure>

<h1 id="集合聚合操作"><a href="#集合聚合操作" class="headerlink" title="集合聚合操作"></a>集合聚合操作</h1><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = listOf(<span class="number">6</span>, <span class="number">42</span>, <span class="number">10</span>, <span class="number">4</span>)</span><br><span class="line">println(<span class="string">&quot;Count: <span class="subst">$&#123;numbers.count()&#125;</span>&quot;</span>) <span class="comment">// Count: 4</span></span><br><span class="line">println(<span class="string">&quot;Max: <span class="subst">$&#123;numbers.maxOrNull()&#125;</span>&quot;</span>) <span class="comment">// Max: 42</span></span><br><span class="line">println(<span class="string">&quot;Min: <span class="subst">$&#123;numbers.minOrNull()&#125;</span>&quot;</span>) <span class="comment">// Min: 4</span></span><br><span class="line">println(<span class="string">&quot;Average: <span class="subst">$&#123;numbers.average()&#125;</span>&quot;</span>) <span class="comment">// Average: 15.5</span></span><br><span class="line">println(<span class="string">&quot;Sum: <span class="subst">$&#123;numbers.sum()&#125;</span>&quot;</span>) <span class="comment">// Sum: 62</span></span><br></pre></td></tr></table></figure>

<h2 id="fold-有初始化值R和集合T的某种组合的结果R返回回去"><a href="#fold-有初始化值R和集合T的某种组合的结果R返回回去" class="headerlink" title="fold: 有初始化值R和集合T的某种组合的结果R返回回去"></a>fold: 有初始化值R和集合T的某种组合的结果R返回回去</h2><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e144e6a18974df093b3b7561e935126~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="reduce-把集合的第一个值当作S-然后和集合的每个元素T做某种操作最后返回-S"><a href="#reduce-把集合的第一个值当作S-然后和集合的每个元素T做某种操作最后返回-S" class="headerlink" title="reduce: 把集合的第一个值当作S, 然后和集合的每个元素T做某种操作最后返回 S"></a>reduce: 把集合的第一个值当作S, 然后和集合的每个元素T做某种操作最后返回 S</h2><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5e5170d0faac4da587d88b68697e587f~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h1 id="set相关操作"><a href="#set相关操作" class="headerlink" title="set相关操作"></a>set相关操作</h1><h2 id="联合-union-、-交集-intersect-和-差集-subtract"><a href="#联合-union-、-交集-intersect-和-差集-subtract" class="headerlink" title="联合 union 、 交集 intersect 和 差集 subtract"></a>联合 union 、 交集 intersect 和 差集 subtract</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> numbers = setOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;two&quot;</span>, <span class="string">&quot;three&quot;</span>)</span><br><span class="line"><span class="comment">// 合并两个集合</span></span><br><span class="line">println(numbers union setOf(<span class="string">&quot;four&quot;</span>, <span class="string">&quot;five&quot;</span>)) <span class="comment">// [one, two, three, four, five]</span></span><br><span class="line"><span class="comment">// 找交集</span></span><br><span class="line">println(numbers intersect setOf(<span class="string">&quot;one&quot;</span>)) <span class="comment">// [one] </span></span><br><span class="line"><span class="comment">// 差集</span></span><br><span class="line">println(numbers subtract setOf(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;three&quot;</span>)) <span class="comment">// [two]</span></span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Bangiao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://bangiao.github.io/2022/12/03/07kotlin/kotlin的集合操作/">https://bangiao.github.io/2022/12/03/07kotlin/kotlin的集合操作/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9B%86%E5%90%88/">集合</a><a class="post-meta__tags" href="/tags/%E9%9B%86%E5%90%88%E8%BD%AC%E6%8D%A2/">集合转换</a><a class="post-meta__tags" href="/tags/map%E6%98%A0%E5%B0%84/">map映射</a><a class="post-meta__tags" href="/tags/mapTo/">mapTo</a><a class="post-meta__tags" href="/tags/mapIndexed/">mapIndexed</a><a class="post-meta__tags" href="/tags/zip/">zip</a><a class="post-meta__tags" href="/tags/zip-pair/">zip pair</a><a class="post-meta__tags" href="/tags/unzip/">unzip</a><a class="post-meta__tags" href="/tags/associate/">associate</a><a class="post-meta__tags" href="/tags/associateTo/">associateTo</a><a class="post-meta__tags" href="/tags/associateBy/">associateBy</a><a class="post-meta__tags" href="/tags/associateWith/">associateWith</a><a class="post-meta__tags" href="/tags/flatten/">flatten</a><a class="post-meta__tags" href="/tags/flatMap/">flatMap</a><a class="post-meta__tags" href="/tags/joinToString/">joinToString</a><a class="post-meta__tags" href="/tags/%E8%BF%87%E6%BB%A4/">过滤</a><a class="post-meta__tags" href="/tags/filter/">filter</a><a class="post-meta__tags" href="/tags/filterInstance/">filterInstance</a><a class="post-meta__tags" href="/tags/partition/">partition</a><a class="post-meta__tags" href="/tags/any/">any</a><a class="post-meta__tags" href="/tags/all/">all</a><a class="post-meta__tags" href="/tags/none/">none</a><a class="post-meta__tags" href="/tags/groupby/">groupby</a><a class="post-meta__tags" href="/tags/%E5%88%86%E7%BB%84/">分组</a><a class="post-meta__tags" href="/tags/slice/">slice</a><a class="post-meta__tags" href="/tags/take/">take</a><a class="post-meta__tags" href="/tags/drop/">drop</a><a class="post-meta__tags" href="/tags/Chunked/">Chunked</a><a class="post-meta__tags" href="/tags/Windowed/">Windowed</a><a class="post-meta__tags" href="/tags/subList/">subList</a><a class="post-meta__tags" href="/tags/elementAt/">elementAt</a><a class="post-meta__tags" href="/tags/first/">first</a><a class="post-meta__tags" href="/tags/last/">last</a><a class="post-meta__tags" href="/tags/find/">find</a><a class="post-meta__tags" href="/tags/random/">random</a><a class="post-meta__tags" href="/tags/%E9%9B%86%E5%90%88%E6%8E%92%E5%BA%8F/">集合排序</a><a class="post-meta__tags" href="/tags/%E9%9B%86%E5%90%88%E5%8F%96%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0/">集合取一个元素</a><a class="post-meta__tags" href="/tags/%E9%9B%86%E5%90%88%E8%81%9A%E5%90%88%E6%93%8D%E4%BD%9C/">集合聚合操作</a><a class="post-meta__tags" href="/tags/fold/">fold</a><a class="post-meta__tags" href="/tags/reduce/">reduce</a><a class="post-meta__tags" href="/tags/set%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C/">set相关操作</a><a class="post-meta__tags" href="/tags/%E8%81%94%E5%90%88/">联合</a><a class="post-meta__tags" href="/tags/union/">union</a><a class="post-meta__tags" href="/tags/%E4%BA%A4%E9%9B%86/">交集</a><a class="post-meta__tags" href="/tags/intersect/">intersect</a><a class="post-meta__tags" href="/tags/%E5%B7%AE%E9%9B%86/">差集</a><a class="post-meta__tags" href="/tags/subtract/">subtract</a></div><div class="social-share pull-right" data-disabled="google,facebook"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="next-post pull-right"><a href="/2022/12/03/07kotlin/%E5%8D%81%E4%B8%80%E3%80%81kotlin%E7%9A%84%E5%8D%8F%E7%A8%8B(%E4%B8%80)/"><span>十一、kotlin的协程(一)</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2014 - 2022 By Bangiao</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">这是博客github仓库地址：<a target="_blank" rel="noopener" href="https://github.com/bangiao/bangiao.github.io">bangiao.github.io</a>，欢迎访问!</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>