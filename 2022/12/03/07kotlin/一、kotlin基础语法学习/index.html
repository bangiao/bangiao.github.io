<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="ä¸€ã€kotlinåŸºç¡€è¯­æ³•å­¦ä¹ "><meta name="keywords" content="å¼‚å¸¸,åŒ…,å‡½æ•°,è¡¨è¾¾å¼,è¡¨è¾¾å¼å‡½æ•°ä½“,å¯å˜å‡½æ•°å‚æ•°,lambda,åŒ¿åå‡½æ•°,å‡½æ•°å†…æ•›,å‡½æ•°å¼•ç”¨,é«˜é˜¶å‡½æ•°,é—­åŒ…,å˜é‡,å­—ç¬¦ä¸²æ¨¡æ¿,ç±»,å±æ€§,import,æšä¸¾ç±»,whenè¡¨è¾¾å¼,æ™ºèƒ½ç±»å‹è½¬æ¢,éšå¼è½¬æ¢,forå¾ªç¯,èŒƒå›´è¡¨è¾¾å¼,éå†,æ­¥é•¿,å€’å™,åŠå¼€åŒºé—´,in,å–å,è¿­ä»£,map"><meta name="author" content="Bangiao"><meta name="copyright" content="Bangiao"><title>ä¸€ã€kotlinåŸºç¡€è¯­æ³•å­¦ä¹  | Bangiao's Notebooks</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '6.3.0'
} </script><meta name="generator" content="Hexo 6.3.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#kotlin%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">kotlinåŸºç¡€è¯­æ³•å­¦ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#kotlin-%E5%8C%85"><span class="toc-number">1.1.</span> <span class="toc-text">kotlin åŒ…</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E5%92%8C%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.</span> <span class="toc-text">å‡½æ•°å£°æ˜å’Œå®šä¹‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼?</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%AF%94%E8%AF%AD%E5%8F%A5%E6%9B%B4%E5%8A%A0%E5%AE%89%E5%85%A8"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">è¡¨è¾¾å¼æ¯”è¯­å¥æ›´åŠ å®‰å…¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%87%BD%E6%95%B0%E4%BD%93"><span class="toc-number">1.2.2.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼å‡½æ•°ä½“?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">1.2.3.</span> <span class="toc-text">å¯å˜å‡½æ•°å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kotlin%E5%87%BD%E6%95%B0%E5%80%BC%E5%AF%B9%E8%B1%A1%E5%8F%82%E6%95%B0%E4%B8%8D%E5%8F%AF%E5%8F%98"><span class="toc-number">1.2.4.</span> <span class="toc-text">kotlinå‡½æ•°å€¼å¯¹è±¡å‚æ•°ä¸å¯å˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lambda%E5%92%8C%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.5.</span> <span class="toc-text">lambdaå’ŒåŒ¿åå‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">åŒ¿åå‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">lambdaè¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%86%85%E8%81%94"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">å‡½æ•°å†…è”</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8"><span class="toc-number">1.2.6.</span> <span class="toc-text">å‡½æ•°å¼•ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%B1%BB%E5%9E%8B%E4%BD%9C%E4%B8%BA%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-number">1.2.7.</span> <span class="toc-text">å‡½æ•°ç±»å‹ä½œä¸ºè¿”å›å€¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">1.2.8.</span> <span class="toc-text">é—­åŒ…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text">å˜é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.4.</span> <span class="toc-text">&#x3D;&#x3D; å’Œ &#x3D;&#x3D;&#x3D;çš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.5.</span> <span class="toc-text">å­—ç¬¦ä¸²æ ¼å¼åŒ–æ¨¡æ¿</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.</span> <span class="toc-text">ç±»å’Œå±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">1.6.1.</span> <span class="toc-text">ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7"><span class="toc-number">1.6.2.</span> <span class="toc-text">å±æ€§</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kotlin%E4%B8%AD%E7%9A%84import%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">1.7.</span> <span class="toc-text">kotlinä¸­çš„importå…³é”®å­—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%B1%BB"><span class="toc-number">1.8.</span> <span class="toc-text">æšä¸¾ç±»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#when-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.9.</span> <span class="toc-text">when è¡¨è¾¾å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%92%8Cis%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%B1%BB%E5%9E%8B%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.10.</span> <span class="toc-text">æ™ºèƒ½ç±»å‹è½¬æ¢å’Œisè¡¨è¾¾å¼ç±»å‹éšå¼è½¬æ¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-is-%E6%99%BA%E8%83%BD%E8%BD%AC%E6%8D%A2%E7%B1%BB%E5%9E%8B%E6%9C%89%E5%89%8D%E6%8F%90"><span class="toc-number">1.10.1.</span> <span class="toc-text">ä½¿ç”¨ is æ™ºèƒ½è½¬æ¢ç±»å‹æœ‰å‰æ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-as-%E5%BC%BA%E5%88%B6%E8%BD%AC%E6%8D%A2%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.11.</span> <span class="toc-text">ä½¿ç”¨ as å¼ºåˆ¶è½¬æ¢ç±»å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E5%92%8C%E8%8C%83%E5%9B%B4%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.12.</span> <span class="toc-text">forå¾ªç¯å’ŒèŒƒå›´è¡¨è¾¾å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8C%83%E5%9B%B4%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.12.1.</span> <span class="toc-text">èŒƒå›´è¡¨è¾¾å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86"><span class="toc-number">1.12.1.1.</span> <span class="toc-text">éå†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A5%E9%95%BF"><span class="toc-number">1.12.1.2.</span> <span class="toc-text">æ­¥é•¿</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%80%92%E5%BA%8F"><span class="toc-number">1.12.1.3.</span> <span class="toc-text">å€’åº</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%8A%E5%BC%80%E5%8C%BA%E9%97%B4"><span class="toc-number">1.12.1.4.</span> <span class="toc-text">åŠå¼€åŒºé—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#in-%E6%A3%80%E6%9F%A5%E6%88%90%E5%91%98%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8"><span class="toc-number">1.12.1.5.</span> <span class="toc-text">in æ£€æŸ¥æˆå‘˜æ˜¯å¦å­˜åœ¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#in-%E6%A3%80%E6%9F%A5%E6%88%90%E5%91%98%E9%85%8D%E5%90%88%E6%84%9F%E5%8F%B9%E5%8F%B7-%E5%8F%96%E5%8F%8D%E7%BB%93%E6%9E%9C"><span class="toc-number">1.12.1.6.</span> <span class="toc-text">in æ£€æŸ¥æˆå‘˜é…åˆæ„Ÿå¹å·: å–åç»“æœ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for-%E4%BD%BF%E7%94%A8%E8%BF%AD%E4%BB%A3%E5%99%A8%E9%81%8D%E5%8E%86"><span class="toc-number">1.12.1.7.</span> <span class="toc-text">for ä½¿ç”¨è¿­ä»£å™¨éå†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#withIndex%E9%94%AE%E5%80%BC%E7%BB%84%E9%81%8D%E5%8E%86"><span class="toc-number">1.12.1.8.</span> <span class="toc-text">withIndexé”®å€¼ç»„éå†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3map"><span class="toc-number">1.12.1.9.</span> <span class="toc-text">è¿­ä»£map</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kotlin-%E5%BC%82%E5%B8%B8"><span class="toc-number">1.13.</span> <span class="toc-text">kotlin å¼‚å¸¸</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://imgsa.baidu.com/forum/pic/item/c8179682d158ccbf63dc944d1bd8bc3eb03541a9.jpg"></div><div class="author-info__name text-center">Bangiao</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/bangiao">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">60</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">609</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">7</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">æˆ‘çš„åšå®¢</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://juejin.cn/user/4248168662314823">æ˜é‡‘</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://blog.csdn.net/qq_30690165">CSDN</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://www.cnblogs.com/bangiao/">åšå®¢å›­</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://gitee.com/bangiao_admin/projects">Giteeç¬”è®°æºç </a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Bangiao's Notebooks</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">é¦–é¡µ</a><a class="site-page" href="/archives">æ–‡ç« åˆ—è¡¨</a><a class="site-page" href="/tags">æ–‡ç« æ ‡ç­¾</a><a class="site-page" href="/categories">æ–‡ç« åˆ†ç±»</a><a class="site-page" href="/sources">ç¬”è®°æºç </a><a class="site-page" href="/about">å…³äº</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">ä¸€ã€kotlinåŸºç¡€è¯­æ³•å­¦ä¹ </div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-12-03</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/kotlin/">kotlin</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="kotlinåŸºç¡€è¯­æ³•å­¦ä¹ "><a href="#kotlinåŸºç¡€è¯­æ³•å­¦ä¹ " class="headerlink" title="kotlinåŸºç¡€è¯­æ³•å­¦ä¹ "></a>kotlinåŸºç¡€è¯­æ³•å­¦ä¹ </h1><blockquote>
<p>ç®€å•çš„å…¥ä¸ªé—¨, å¤æ‚çš„æ“ä½œæ”¾åœ¨ä¸‹ä¸€ç« èŠ‚</p>
</blockquote>
<h2 id="kotlin-åŒ…"><a href="#kotlin-åŒ…" class="headerlink" title="kotlin åŒ…"></a>kotlin åŒ…</h2><ul>
<li>å’ŒjavaåŒ…ä¸åŒ, javaç±»å¿…é¡»æ”¾åœ¨å¯¹åº”åŒ…åçš„ç›®å½•ä¸‹, è€Œkotlinæ²¡æœ‰å¼ºåˆ¶è¦æ±‚</li>
<li>kotlinçš„ç±»åå¯ä»¥å’Œæ–‡ä»¶åä¸åŒ</li>
<li>kotlinç”šè‡³å¯ä»¥ä¸ç”¨å†™ç±»</li>
</ul>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6fc62ed05b4a405a819c10634de627aa~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> base</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">funcMax</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="keyword">return</span>  <span class="keyword">if</span>(a &gt; b) a <span class="keyword">else</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line">   <span class="keyword">var</span> b = <span class="number">20</span></span><br><span class="line">   println(funcMax(a, b))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>javaæºç å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">FuncDemo01Kt</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">funcMax</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> a &gt; b ? a : b;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(<span class="meta">@NotNull</span> String[] args)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">      <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">      <span class="type">int</span> <span class="variable">var3</span> <span class="operator">=</span> funcMax(a, b);</span><br><span class="line">      System.out.println(var3);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>kotlinç¼–è¯‘å™¨å°†æ–‡ä»¶<code>FuncDemo01</code>åŠ ä¸Š <code>Kt</code> åšæˆäº† java çš„ç±»å, è€Œ<code>max</code> æ˜¯<code>FuncDemo01Kt</code>ç±»çš„é™æ€æ–¹æ³•, åœ¨ kotlin ä¸­è¢«ç§°ä¹‹ä¸º <code>é¡¶å±‚å‡½æ•°</code></p>
<p>javaè°ƒç”¨kotlin<code>é¡¶å±‚å‡½æ•°</code>åªéœ€è¦å¦‚æ­¤:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FuncDemo01Kt.funcMax(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯javaè°ƒç”¨kotliné¡¶å±‚å‡½æ•°çš„æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> base.java;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> base.FuncDemo01Kt; <span class="comment">// â˜…</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JavaTestDemo01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">        System.out.println(FuncDemo01Kt.funcMax(a, b)); <span class="comment">// â˜…</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‡½æ•°å£°æ˜å’Œå®šä¹‰"><a href="#å‡½æ•°å£°æ˜å’Œå®šä¹‰" class="headerlink" title="å‡½æ•°å£°æ˜å’Œå®šä¹‰"></a>å‡½æ•°å£°æ˜å’Œå®šä¹‰</h2><p>kotlinä½¿ç”¨ fun å…³é”®å­—å®šä¹‰å‡½æ•°: </p>
<p>æ™®é€šå‡½æ•°ä½“å½¢å¼:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span>:<span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>funå…³é”®å­— + ç©ºæ ¼ + å‡½æ•°åå­—(å‚æ•°å: å‚æ•°ç±»å‹, ...): å‡½æ•°è¿”å›å€¼ &#123;å‡½æ•°ä½“&#125;</code></p>
<p>kotlinä¸­è¿˜æœ‰è¡¨è¾¾å¼å‡½æ•°ä½“å½¢å¼, å¦‚ä¸‹:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span> = a + b</span><br></pre></td></tr></table></figure>

<p><code>funå…³é”®å­— + ç©ºæ ¼ + å‡½æ•°åå­—(å‚æ•°å: å‚æ•°ç±»å‹, ...) è¡¨è¾¾å¼å‡½æ•°ä½“( = a + b)</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// kotlinå‡½æ•°æ— è¿”å›å€¼æ—¶ä½¿ç”¨ `Unit` å…³é”®å­—, æ³¨æ„è¿™é‡Œå’Œ`Uint`åšåŒºåˆ†, è¡¨ç¤º`unsigned int`æ— ç¬¦å·</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span>:<span class="built_in">Unit</span> &#123;</span><br><span class="line">    <span class="comment">// å­—ç¬¦ä¸²æ¨¡æ¿æ“ä½œå…³é”®å­— `$`</span></span><br><span class="line">    println(<span class="string">&quot;max = <span class="subst">$&#123;if(a &gt; b) a else b&#125;</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼"><a href="#ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼?"></a>ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼?</h3><p><strong><code>è¡¨è¾¾å¼æ˜¯æœ‰è¿”å›å€¼çš„è¯­å¥</code></strong></p>
<p><code>1</code>, <code>-1</code>, <code>1 + 1</code>, <code>listOf(1, 2, 3)</code> è¿™äº›éƒ½æ˜¯è¡¨è¾¾å¼</p>
<p>è¿˜æœ‰</p>
<p><code>&#123;x:Int -&gt; x + 1&#125;</code>  <code>fun(x: Int) &#123; println(x) &#125;</code> <code>if(x &gt; 1) x else 1</code> è¿™ä¸‰ä¸ªä¹Ÿæ˜¯è¡¨è¾¾å¼</p>
<h4 id="è¡¨è¾¾å¼æ¯”è¯­å¥æ›´åŠ å®‰å…¨"><a href="#è¡¨è¾¾å¼æ¯”è¯­å¥æ›´åŠ å®‰å…¨" class="headerlink" title="è¡¨è¾¾å¼æ¯”è¯­å¥æ›´åŠ å®‰å…¨"></a>è¡¨è¾¾å¼æ¯”è¯­å¥æ›´åŠ å®‰å…¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">isStatement</span><span class="params">(Boolean flag)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        a = <span class="string">&quot;dive into kotlin&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(a.toUpperCase());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>è¿™é‡Œå­˜åœ¨ä¸€ä¸ªé—®é¢˜. å˜é‡ <code>a</code> ä¸º <code>null</code>, å¦‚æœä¸ç»è¿‡ <code>if</code> è¯­å¥, åˆ™ä¼šåœ¨ä¸‹é¢å˜æˆ <code>null.toUpperCase()</code> ç›´æ¥æŠ¥é”™</p>
<p>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ kotlin çš„æ–¹å¼é‡æ–°å®ç°è¿™ç§æ–¹å¼</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">isStatement</span><span class="params">(flag: <span class="type">Boolean</span>)</span></span>: <span class="built_in">Unit</span> &#123;</span><br><span class="line">   <span class="comment">// æˆ‘ä»¬ä¼šä¸»åŠ¨æ¥æ”¶ if çš„è¿”å›å€¼</span></span><br><span class="line">   <span class="keyword">val</span> a = <span class="keyword">if</span> (flag) <span class="string">&quot;dive into kotlin&quot;</span> <span class="keyword">else</span> <span class="string">&quot;&quot;</span></span><br><span class="line">   println(a.uppercase())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å¦‚æœæˆ‘ä»¬ä¸å†™ä¸Š <code>else</code> , ideaä¼šæŠ¥é”™</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/868486cfe76641608aed938012e3201e~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<blockquote>
<p>è¡¨è¾¾å¼çš„ç›®çš„æ˜¯ä¸ºäº†åˆ›å»ºæ–°å€¼</p>
</blockquote>
<h3 id="ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼å‡½æ•°ä½“"><a href="#ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼å‡½æ•°ä½“" class="headerlink" title="ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼å‡½æ•°ä½“?"></a>ä»€ä¹ˆæ˜¯è¡¨è¾¾å¼å‡½æ•°ä½“?</h3><p>å¦‚æœä¸€ä¸ªå‡½æ•°çš„æ•´ä¸ªå‡½æ•°ä½“éƒ½æ˜¯<code>ä¸€ä¸ªè¡¨è¾¾å¼</code>æ—¶, æˆ‘ä»¬å°±å¯ä»¥ç§°ä¹‹ä¸º<code>è¡¨è¾¾å¼å‡½æ•°ä½“</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">max</span><span class="params">(a: <span class="type">Int</span>, b: <span class="type">Int</span>)</span></span> = <span class="keyword">if</span> (a &gt; b) a <span class="keyword">else</span> b</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¡¨è¾¾å¼å‡½æ•°ä½“ä¸­, å¯ä»¥çœç•¥ <code>return</code> å…³é”®å­—, åŠ ä¸Š ç­‰å· å’Œè¡¨è¾¾å¼ <code>if (a &gt; b) a else b</code>, è¿™æ„å‘³ç€è¯¥å‡½æ•°è¿”å›äº† <code>if è¡¨è¾¾å¼</code> çš„ ç»“æœ</p>
</blockquote>
<h3 id="å¯å˜å‡½æ•°å‚æ•°"><a href="#å¯å˜å‡½æ•°å‚æ•°" class="headerlink" title="å¯å˜å‡½æ•°å‚æ•°"></a>å¯å˜å‡½æ•°å‚æ•°</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printArray</span><span class="params">(<span class="keyword">vararg</span> arr: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(v <span class="keyword">in</span> arr) &#123;</span><br><span class="line">        println(v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„è¿™ç§ç”¨æ³•:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">val</span> list = listOf&lt;<span class="built_in">Int</span>&gt;(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">   printArray(*list.toIntArray())</span><br><span class="line">   <span class="comment">//         ğŸ‘†</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="kotlinå‡½æ•°å€¼å¯¹è±¡å‚æ•°ä¸å¯å˜"><a href="#kotlinå‡½æ•°å€¼å¯¹è±¡å‚æ•°ä¸å¯å˜" class="headerlink" title="kotlinå‡½æ•°å€¼å¯¹è±¡å‚æ•°ä¸å¯å˜"></a>kotlinå‡½æ•°å€¼å¯¹è±¡å‚æ•°ä¸å¯å˜</h3><p>kotlinå€¼å¯¹è±¡å‚æ•°é»˜è®¤ä¸º val ä¿®é¥°(è¡¨é¢ä¸Šè¿™ä¹ˆè®¤ä¸ºå°±è¡Œ)</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5380053d3f554011b277813c9a715aca~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><code>Val cannot be reassigned</code></p>
<p>å¦‚æœä½ æŒ‰ä½ <code>ctrl</code> å°†é¼ æ ‡æ”¾åœ¨å‚æ•° <code>a</code> ä¸Šé¢å°†ä¼šçœ‹åˆ° <code>value-parameter a: Int</code> å­—æ ·</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5dacd54d1ab40fc8260f029f6aa77ec~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>æ”¾åœ¨å˜é‡ <code>b</code> å¤„, å°†ä¼šçœ‹åˆ° <code>val b: Int</code></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/598c9a72f3ea4f3e8fd3ca04cfa53e7d~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>è¿™æ˜¯kotlinå€¼å‚æ•°ç±»å‹</p>
<p>kotlinæ‰€æœ‰å‡½æ•°çš„å‚æ•°éƒ½æ˜¯<code>å€¼å‚æ•°</code>, éƒ½æ˜¯ä¸å¯ä¿®æ”¹çš„</p>
<p>ä½†å…¶ä¸å½±å“<code>å€¼å‚æ•°</code>å½“ä½œ<code>å¼•ç”¨åœ°å€</code>ä¿®æ”¹åœ¨å †ä¸­å¯¹è±¡çš„æƒ…å†µ</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4976cb46e4774bd991252ddb158fb61b~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<blockquote>
<p>äº†è§£å€¼å‚æ•°è¿™ä¸€æ¦‚å¿µæ²¡å•¥ç”¨, æ‰€ä»¥å½“ä½œ <code>val å˜é‡</code>å°±è¡Œäº†</p>
</blockquote>
<p>å¦‚æœå°†å€¼å†æ¬¡èµ‹å€¼ç»™ <code>val å˜é‡</code>: </p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e75b3ddb6ec14d77a3ee45f3e68a754d~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>åœ¨javaä¸­å°†ä½“ç°ä¸º:</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8777dd9461d840fdb893e2d8bec62d93~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h3 id="lambdaå’ŒåŒ¿åå‡½æ•°"><a href="#lambdaå’ŒåŒ¿åå‡½æ•°" class="headerlink" title="lambdaå’ŒåŒ¿åå‡½æ•°"></a>lambdaå’ŒåŒ¿åå‡½æ•°</h3><h4 id="åŒ¿åå‡½æ•°"><a href="#åŒ¿åå‡½æ•°" class="headerlink" title="åŒ¿åå‡½æ•°"></a>åŒ¿åå‡½æ•°</h4><p>å…·åå‡½æ•°å¦‚ä¸‹:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">max</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒ¿åå‡½æ•°éœ€è¦å°†å‡½æ•°åå»é™¤</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">fun</span> <span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§å½¢å¼éœ€è¦å˜é‡æ¥æ”¶, å¦åˆ™å°†æŠ¥é”™</p>
<p>æ‰€ä»¥æ·»åŠ ä¸€ä¸ªå˜é‡æ¥ä»£è¡¨åŒ¿åå‡½æ•°: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢çš„ f å°±æ˜¯å‡½æ•°ç±»å‹å˜é‡</span></span><br><span class="line"><span class="keyword">val</span> f1 = <span class="function"><span class="title">fun</span> <span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶åä½¿ç”¨ f å˜é‡è°ƒç”¨åŒ¿åå‡½æ•°</span></span><br><span class="line"><span class="keyword">val</span> sum = f1(<span class="number">190</span>, <span class="number">29</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å‰é¢çš„ <code>fun</code> ä¸èƒ½çœç•¥, å¦åˆ™ä¼šå‡ºé”™.</p>
</blockquote>
<p>å¯ä»¥ä½¿ç”¨ lambda è¡¨è¾¾å¼ä»£æ›¿åŒ¿åå‡½æ•°</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> f2 = &#123;x: <span class="built_in">Int</span>, y: <span class="built_in">Int</span> -&gt; x + y&#125;</span><br></pre></td></tr></table></figure>


<p>è¿˜å¯ä»¥è¿™æ ·ç”¨:</p>
<blockquote>
<p>æ¯”è¾ƒè¶…å‰, ä¸è¿‡å­¦è¿‡ java çš„åº”è¯¥çœ‹å¾—æ‡‚ç‚¹</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">running</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>, funType: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> funcType(x, y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">running(<span class="number">10</span>, <span class="number">299</span>, <span class="function"><span class="title">fun</span> <span class="params">(x, y)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> x + y</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// lambdaè¡¨è¾¾å¼</span></span><br><span class="line">running(<span class="number">10</span>, <span class="number">299</span>, &#123; x, y -&gt; x + y &#125;)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœåœ¨ lambda ä¸­å†™ä¸Šå¤šæ®µä»£ç å¯ä»¥è¿™æ ·:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">running(<span class="number">10</span>, <span class="number">299</span>) &#123; x, y -&gt;</span><br><span class="line">   <span class="keyword">val</span> ret = x + y</span><br><span class="line">   println(<span class="string">&quot;ret = <span class="variable">$ret</span>&quot;</span>)</span><br><span class="line">   ret</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>åŒ¿åå‡½æ•°æ˜¯å¯¹è±¡, é€šè¿‡å‡½æ•°ç±»å‹ new å‡ºæ¥çš„å¯¹è±¡, è€Œå‡½æ•°ç±»å‹ä»…ä»…æ˜¯ä¸ªç±»å‹, ç±»ä¼¼äº <code>Int Double Float String Byte Long</code>ç­‰ç­‰</strong></p>
</blockquote>
<h4 id="lambdaè¡¨è¾¾å¼"><a href="#lambdaè¡¨è¾¾å¼" class="headerlink" title="lambdaè¡¨è¾¾å¼"></a>lambdaè¡¨è¾¾å¼</h4><p>åœ¨kotlinä¸­å‡¡æ˜¯åŒæ—¶è¢« <code>&#123;&#125;</code> åŒ…è£¹çš„ä½¿ç”¨ <code>-&gt;</code> åˆ†å‰²å‚æ•°å’Œå‡½æ•°ä½“çš„è¡¨è¾¾å¼éƒ½å¯ä»¥ç§°ä¹‹ä¸º <code>lambda è¡¨è¾¾å¼</code>, ä¾‹å¦‚: <code>&#123; x, y -&gt; x + y &#125;</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lambda è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">val</span> x1 = &#123; x: <span class="built_in">Int</span>, y: <span class="built_in">Int</span> -&gt; <span class="keyword">if</span> (x &gt; y) x <span class="keyword">else</span> y &#125;</span><br><span class="line"><span class="keyword">val</span> x2: (<span class="built_in">Int</span>, <span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> = &#123; x, y -&gt; <span class="keyword">if</span> (x &gt; y) x <span class="keyword">else</span> y &#125;</span><br><span class="line"><span class="comment">// åŒ¿åå‡½æ•°æ–¹å¼</span></span><br><span class="line"><span class="keyword">val</span> y1 = <span class="function"><span class="title">fun</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">if</span> (x &gt; y) x <span class="keyword">else</span> y</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> y2: (<span class="built_in">Int</span>, <span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> = <span class="function"><span class="title">fun</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">if</span> (x &gt; y) x <span class="keyword">else</span> y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>(Int, Int) -&gt; Int</code> æ˜¯å‡½æ•°ç±»å‹, <code>ä»–ä¸æ˜¯å¯¹è±¡, ä»–æ˜¯ä¸€ä¸ªç±»å‹</code></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd45f216ef06492e9ce6904ffd5d9491~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<blockquote>
<p><code>var f = (Int, Int) -&gt; Int</code> é”™è¯¯, ç±»å‹æ— æ³•èµ‹å€¼</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// kotlin çš„åˆå§‹åŒ–, ä½¿ç”¨ lambdaè¡¨è¾¾å¼åˆå§‹åŒ– f ç±»å‹</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> f: <span class="params">(<span class="built_in">Int</span>, <span class="built_in">Int</span>)</span></span> -&gt; <span class="built_in">Int</span> = &#123; x, y -&gt; x + y &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­, æˆ‘å‘ç° <code>fun sum1(x: Int, y: Int) = &#123;x, y -&gt; x + y&#125;</code>ä¼šæŠ¥é”™</p>
</blockquote>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d617d8f92dc4c3fb40a76ad1367fe81~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<blockquote>
<p>æŠ¥é”™æ˜¯ â€œ<strong>æ— æ³•æ¨æ–­æ­¤å‚æ•°çš„ç±»å‹ã€‚ è¯·æ˜ç¡®æŒ‡å®šã€‚</strong>â€œ, åˆå­¦è€…ä¸ç†Ÿæ‚‰ kotlin è¯­æ³•, åœ¨è¿™é‡Œä¼šçœ‹çš„æ¯”è¾ƒæ‡µé€¼</p>
</blockquote>
<blockquote>
<p>å…¶æœ¬è´¨é—®é¢˜æ˜¯: <code>&#123;x, y -&gt; x + y &#125;</code> æ˜¯ä¸€ä¸ªå¯¹è±¡, è€Œå‡½æ•°è¿”å›å€¼å´æ˜¯ <code>Int</code>, è¿”å›å€¼ç±»å‹ä¸åŒ¹é…</p>
</blockquote>
<p>ä»£ç æœ€ç»ˆè¿”å›å€¼ç±»å‹æ˜¯ <code>(???, ???) -&gt; Int</code>, <code>???</code> è¡¨ç¤ºä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆç±»å‹? <code>&#123;x, y -&gt; x + y &#125;</code> æ ¹æœ¬å°±æ²¡ç»™å‡º x å’Œ y çš„ç±»å‹æ˜¯ä»€ä¹ˆâ€¦</p>
<p>å¦‚æœä¸ç†è§£, å¯ä»¥æŠŠ <code>=</code> ä¿®æ”¹æˆ  <code>return</code> </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™é‡ŒæŠ¥é”™, è¿”å›å€¼ç±»å‹æ˜¯: (???, ???) -&gt; Int</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum0</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;x, y -&gt; x + y&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ideaæ™ºèƒ½æç¤ºåº”è¯¥ä¿®æ”¹æˆ:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç°åœ¨æ”¹æˆè¿™æ ·: (Int, Int) -&gt; Int, è¿™æ ·å°±ä¸ä¼šæŠ¥é”™äº†</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum1</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span>: (<span class="built_in">Int</span>, <span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;x, y -&gt; x + y&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ˜¯å¦æ›´åŠ å®¹æ˜“ç†è§£äº†å‘¢?</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥åƒä¸‹é¢è¿™ç§æ–¹å¼ç»™ lambda å¯¹è±¡çš„å‚æ•°æ·»åŠ ç±»å‹:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">sum</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span> = &#123;a: <span class="built_in">Int</span>, b: <span class="built_in">Int</span> -&gt; </span><br><span class="line">   println(<span class="string">&quot;a = <span class="variable">$a</span>, b = <span class="variable">$b</span>, x = <span class="variable">$x</span>, y = <span class="variable">$y</span>&quot;</span>) <span class="comment">// a = 10, b = 20, x = 1, y = 2</span></span><br><span class="line">   x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹å, æˆ‘ä»¬å¯ä»¥è¿™æ ·è°ƒç”¨:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sum(<span class="number">1</span>, <span class="number">2</span>)(<span class="number">10</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è§£æ: <code>sum(1, 2)</code> è¿”å›ä¸€ä¸ª lambda å¯¹è±¡, ç±»å‹æ˜¯<code>(Int, Int) -&gt; Int</code>, è¿˜å¯ä»¥è°ƒç”¨lambdaå‡½æ•° ä¼ é€’å‚æ•° 10 å’Œ 20: <code>lambdaå‡½æ•°(10, 20)</code></p>
</blockquote>
<h4 id="å‡½æ•°å†…è”"><a href="#å‡½æ•°å†…è”" class="headerlink" title="å‡½æ•°å†…è”"></a>å‡½æ•°å†…è”</h4><ul>
<li>ä»€ä¹ˆæ˜¯å‡½æ•°å†…è”?</li>
</ul>
<p>æˆ‘ä»¬å­¦ä¹ è¿‡Cè¯­è¨€çš„äººåº”è¯¥éƒ½çŸ¥é“ å®å®šä¹‰ å§?</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAX xxx</span></span><br></pre></td></tr></table></figure>

<p>ä»–çš„æœ¬è´¨åŠŸèƒ½æ˜¯ä»£ç æ›¿æ¢, è€Œ kotlin å‡½æ•°å†…è”å°±ç±»ä¼¼äºè¿™æ ·</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="title">running</span><span class="params">(x: <span class="type">Any</span>, funType: (<span class="type">Any</span>) -&gt; <span class="type">String</span>)</span></span> = funType(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> number: <span class="built_in">Double</span> = <span class="number">1.13121356456</span></span><br><span class="line">    running(number) &#123;</span><br><span class="line">        <span class="keyword">when</span> (it) &#123;</span><br><span class="line">            <span class="keyword">is</span> <span class="built_in">Byte</span> -&gt; <span class="built_in">Byte</span>::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">is</span> <span class="built_in">Char</span> -&gt; <span class="built_in">Char</span>::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">is</span> <span class="built_in">Boolean</span> -&gt; <span class="built_in">Boolean</span>::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">is</span> <span class="built_in">Int</span> -&gt; <span class="built_in">Int</span>::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">is</span> <span class="built_in">Long</span> -&gt; <span class="built_in">Long</span>::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">is</span> <span class="built_in">Float</span> -&gt; <span class="built_in">Float</span>::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">is</span> <span class="built_in">Double</span> -&gt; <span class="built_in">Double</span>::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">is</span> String -&gt; String::<span class="keyword">class</span>.java.name</span><br><span class="line">            <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> Exception(<span class="string">&quot;Unknown Type&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸ä½¿ç”¨å†…è”çš„è¯, å­—èŠ‚ç ç¿»è¯‘å‡ºçš„javaä»£ç æ˜¯è¿™æ ·: </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String <span class="title function_">running</span><span class="params">(Object x, Function1 funType)</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> (String)funType.invoke(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(<span class="meta">@NotNull</span> String[] args)</span> &#123;</span><br><span class="line">   <span class="type">double</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">1.13121356456D</span>;</span><br><span class="line">   running(number, (Function1)<span class="literal">null</span>.INSTANCE); <span class="comment">// åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½¿ç”¨å†…è”çš„è¯, ä»£ç æ˜¯è¿™æ ·:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String <span class="title function_">running</span><span class="params">(Object x, Function1 funType)</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> (String)funType.invoke(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(<span class="meta">@NotNull</span> String[] args)</span> &#123;</span><br><span class="line">   <span class="type">double</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">1.13121356456D</span>;</span><br><span class="line">   <span class="type">Object</span> <span class="variable">x$iv</span> <span class="operator">=</span> number; <span class="comment">// è¿™æ˜¯ running å‡½æ•°çš„å‚æ•°</span></span><br><span class="line">   <span class="keyword">if</span> (x$iv <span class="keyword">instanceof</span> Integer) &#123;</span><br><span class="line">      <span class="keyword">return</span> Integer.TYPE.getName();</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x$iv <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">      <span class="keyword">return</span> String.class.getName();</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x$iv <span class="keyword">instanceof</span> Long) &#123;</span><br><span class="line">      <span class="keyword">return</span> Long.TYPE.getName();</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (x$iv <span class="keyword">instanceof</span> Float) &#123;</span><br><span class="line">      <span class="keyword">return</span> Float.TYPE.getName();</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> Double.TYPE.getName();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸ºä»€ä¹ˆéœ€è¦å‡½æ•°å†…è”?</li>
</ul>
<p>â‘  åœ¨æœªä½¿ç”¨å‡½æ•°å†…è”çš„æƒ…å†µä¸‹, kotlinçš„åŒ¿åå‡½æ•°(lambda)é€šå¸¸å’Œjavaä¸€æ ·, éœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡, æ¯é‡åˆ°åŒ¿åå‡½æ•°å°±éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡, å¯¼è‡´æ€§èƒ½æŸè€—, ä½†å¦‚æœä½¿ç”¨å‡½æ•°å†…è”, ç¼–è¯‘å™¨ä¼šåœ¨ä»»ä½•éœ€è¦åŒ¿åå‡½æ•°çš„åœ°æ–¹, ç›´æ¥æ‹·è´å‡½æ•°ä½“çš„æºç è¿‡å», ä¸éœ€è¦åˆ›å»ºå¯¹è±¡äº†</p>
<p>â‘¡ æ³›å‹çš„å®åŒ–</p>
<blockquote>
<p>lambdaçš„é€’å½’å‡½æ•°æ— æ³•å†…è”, ä¼šå¯¼è‡´ç¼–è¯‘å™¨æ— é™å¤åˆ¶ç²˜è´´å‡½æ•°ä½“</p>
</blockquote>
<h3 id="å‡½æ•°å¼•ç”¨"><a href="#å‡½æ•°å¼•ç”¨" class="headerlink" title="å‡½æ•°å¼•ç”¨"></a>å‡½æ•°å¼•ç”¨</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="title">running</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>, myFunction: (<span class="type">Int</span>, <span class="type">Int</span>) -&gt; <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    println(<span class="string">&quot;x: <span class="variable">$x</span>, y: <span class="variable">$y</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> myFunction.invoke(x, y)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">max</span><span class="params">(x: <span class="type">Int</span>, y: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> = <span class="keyword">if</span> (x &gt; y) x <span class="keyword">else</span> y</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> x = <span class="number">10</span></span><br><span class="line">    <span class="keyword">val</span> y = <span class="number">20</span></span><br><span class="line">    println(running(x, y, ::max)) <span class="comment">// â˜…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°ç±»å‹ä½œä¸ºè¿”å›å€¼"><a href="#å‡½æ•°ç±»å‹ä½œä¸ºè¿”å›å€¼" class="headerlink" title="å‡½æ•°ç±»å‹ä½œä¸ºè¿”å›å€¼"></a>å‡½æ•°ç±»å‹ä½œä¸ºè¿”å›å€¼</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">running</span><span class="params">()</span></span>: (<span class="built_in">Int</span>, <span class="built_in">Int</span>) -&gt; String &#123;</span><br><span class="line">    <span class="keyword">val</span> prefix: String = <span class="string">&quot;è®¡ç®—: &quot;</span></span><br><span class="line">    <span class="keyword">val</span> postfix: String = <span class="string">&quot;è®¡ç®—ç»“æœä¸º: &quot;</span></span><br><span class="line">    <span class="keyword">return</span> &#123;x:<span class="built_in">Int</span>, y: <span class="built_in">Int</span> -&gt;</span><br><span class="line">        <span class="string">&quot;<span class="subst">$&#123;prefix&#125;</span><span class="subst">$&#123;x&#125;</span> + <span class="variable">$y</span> <span class="subst">$&#123;postfix&#125;</span><span class="subst">$&#123;x + y&#125;</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> function = running()</span><br><span class="line">    println(function(<span class="number">1</span>, <span class="number">6</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><ul>
<li>ä»€ä¹ˆæ˜¯é—­åŒ…?</li>
</ul>
<p>MDNå¯¹é—­åŒ…çš„è¯´æ˜å¾ˆåˆ°ä½:</p>
<p><code>A closure is the combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment).</code></p>
<p><strong>é—­åŒ…æ˜¯ä¸€ä¸ªå‡½æ•°ä¸å¼•ç”¨è¯¥å‡½æ•°å‘¨å›´ä½œç”¨åŸŸå˜é‡ç»‘å®šåœ¨ä¸€èµ·çš„ç»„åˆ</strong></p>
<p><code>In other words, a closure gives you access to an outer function&#39;s scope from an inner function. In JavaScript, closures are created every time a function is created, at function creation time.</code></p>
<p><strong>æ¢å¥è¯è¯´, é—­åŒ…ç»™äº†ä½ ä»ä¸€ä¸ªå†…éƒ¨å‡½æ•°è®¿é—®å¤–éƒ¨å‡½æ•°ä½œç”¨åŸŸçš„èƒ½åŠ›, åœ¨ JavaScript ä¸­, æ¯æ¬¡åˆ›å»ºä¸€ä¸ªå‡½æ•°éƒ½ä¼šåœ¨å‡½æ•°åˆ›å»ºæ—¶åˆ›å»ºé—­åŒ…</strong></p>
<blockquote>
<p>é™¤äº† JavaScript é‚£æ®µ, é—­åŒ…æ¦‚å¿µåº”è¯¥ç®—é€šç”¨çš„</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures#emulating_private_methods_with_closures">Closures - JavaScript | MDN (mozilla.org)</a></p>
<ul>
<li>é—­åŒ…çš„ä½œç”¨</li>
</ul>
<p>é—­åŒ…ç»™äºˆäº†ä½œç”¨åŸŸä¿æŠ¤, é˜²æ­¢ä½œç”¨åŸŸå‡ºç°ç›¸åŒå‡½æ•°åå†²çª. åƒc++æå‡ºçš„namespaceä¸€æ ·, kotlinå­˜åœ¨é¡¶å±‚å‡½æ•°å’Œå±æ€§, å¦‚æœä¸åšä½œç”¨åŸŸä¿æŠ¤, éšç€é¡¹ç›®å˜å¤§, å°†æœ‰ä¸€å †å‡½æ•°é‡å</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">running</span><span class="params">()</span></span>: (<span class="built_in">Int</span>, <span class="built_in">Int</span>) -&gt; String &#123;</span><br><span class="line">    <span class="keyword">val</span> prefix: String = <span class="string">&quot;è®¡ç®—: &quot;</span></span><br><span class="line">    <span class="keyword">val</span> postfix: String = <span class="string">&quot;è®¡ç®—ç»“æœä¸º: &quot;</span></span><br><span class="line">    <span class="keyword">return</span> &#123;x:<span class="built_in">Int</span>, y: <span class="built_in">Int</span> -&gt;</span><br><span class="line">        <span class="string">&quot;<span class="subst">$&#123;prefix&#125;</span><span class="subst">$&#123;x&#125;</span> + <span class="variable">$y</span> <span class="subst">$&#123;postfix&#125;</span><span class="subst">$&#123;x + y&#125;</span>&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p><code>val/var å˜é‡å: å˜é‡ç±»å‹</code></p>
<blockquote>
<p><code>val</code> æ˜¯ <code>java</code> ä¸­çš„ <code>final</code> å˜é‡</p>
<p>è¿™å¥è¯é”™äº†, ä¹Ÿæ²¡é”™. kotlin çš„ <code>val</code> å¼ºè°ƒåªè¯»æ€§ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ <code>getter</code>æ„é€ å™¨è€Œæ²¡æœ‰ <code>setter</code> æ„é€ å™¨, ä¸å¼ºè°ƒæ˜¯ä¸æ˜¯ <code>final</code> å› ä¸º <code>final</code> æ˜¯ kotlin è‡ªå¸¦çš„, ä»»ä½•ç±»ã€å˜é‡å’Œå‡½æ•°ä¸ç»å¼ºè°ƒé»˜è®¤éƒ½æ˜¯ <code>final</code></p>
</blockquote>
<p>kotlinç¼–è¯‘å™¨åªç”Ÿæˆ <code>get</code> å‡½æ•°</p>
<p><code>var</code> åˆ™æ˜¯å¯è¯»å†™çš„å±æ€§, kotlinç¼–è¯‘å™¨ä¼šç”Ÿæˆ <code>get/set</code> å‡½æ•°</p>
<p>åœ¨<code>val v: Int</code>å˜é‡ <code>v</code> å£°æ˜æ—¶, å¦‚æœæ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–, åˆ™å˜é‡ <code>v</code> éœ€è¦åœ¨åç»­ä¸­åˆå§‹åŒ–ä¸€æ¬¡</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ˜¯å£°æ˜æ—¶, éœ€è¦ç¡®å®šç±»å‹</span></span><br><span class="line"><span class="keyword">val</span> v: <span class="built_in">Int</span></span><br><span class="line">v = <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p><code>var</code> å®šä¹‰çš„å˜é‡, ä¸€æ—¦åˆå§‹åŒ–äº†ç±»å‹, ä¸‹æ¬¡èµ‹å€¼æ—¶è¯¥å˜é‡çš„ç±»å‹ä¸å˜</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v = <span class="number">10</span></span><br><span class="line">v = <span class="string">&quot;hello&quot;</span> <span class="comment">// é”™è¯¯, vçš„ç±»å‹å·²ç»æ˜¯ Int äº†, ä¸å¯èƒ½å†å˜æˆ String</span></span><br></pre></td></tr></table></figure>

<h2 id="å’Œ-çš„åŒºåˆ«"><a href="#å’Œ-çš„åŒºåˆ«" class="headerlink" title="== å’Œ ===çš„åŒºåˆ«"></a><code>==</code> å’Œ <code>===</code>çš„åŒºåˆ«</h2><p>åœ¨java ä¸­ <code>==</code> è¡¨ç¤ºå¼•ç”¨æ¯”è¾ƒ, <code>equals</code> æ¯”è¾ƒçš„æ˜¯å¯¹è±¡å†…å®¹</p>
<p>åœ¨ kotlin ä¸­ <code>==</code> æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å®¹, <code>===</code> æ¯”è¾ƒçš„æ˜¯å¼•ç”¨</p>
<blockquote>
<p><code>===</code> æ˜¯ä¸å¯ä»¥è¿›è¡Œæ“ä½œç¬¦é‡è½½çš„</p>
</blockquote>
<h2 id="å­—ç¬¦ä¸²æ ¼å¼åŒ–æ¨¡æ¿"><a href="#å­—ç¬¦ä¸²æ ¼å¼åŒ–æ¨¡æ¿" class="headerlink" title="å­—ç¬¦ä¸²æ ¼å¼åŒ–æ¨¡æ¿"></a>å­—ç¬¦ä¸²æ ¼å¼åŒ–æ¨¡æ¿</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">(args: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a: <span class="built_in">Int</span> = <span class="number">99</span>;</span><br><span class="line">   <span class="keyword">var</span> b = <span class="number">11</span>; <span class="comment">// ç±»å‹æ¨å¯¼ ä¸º Int</span></span><br><span class="line">   println(<span class="string">&quot;a = <span class="variable">$a</span>, b = <span class="variable">$b</span>, a + b = <span class="subst">$&#123;a + b&#125;</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ®µä»£ç æ˜¯kotlinå­—ç¬¦ä¸²æ¨¡æ¿çš„ä½¿ç”¨æ–¹å¼</p>
<ol>
<li><code>$å˜é‡</code> ç›´æ¥è¾“å‡ºå˜é‡çš„å€¼</li>
<li><code>$&#123;è¡¨è¾¾å¼&#125;</code> åœ¨èŠ±æ‹¬å·å†…å¯ä»¥å†™ä¸Šè¡¨è¾¾å¼</li>
</ol>
<p>ä¸Šé¢é‚£æ®µå­—ç¬¦ä¸²æ“ä½œæ¨¡æ¿è¢«åç¼–è¯‘æˆjavaä»£ç æ—¶å°±ä¼šå˜æˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">StringDemo01Kt</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(<span class="meta">@NotNull</span> String[] args)</span> &#123;</span><br><span class="line">      Intrinsics.checkNotNullParameter(args, <span class="string">&quot;args&quot;</span>);</span><br><span class="line">      <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line">      <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">11</span>;</span><br><span class="line">      <span class="type">String</span> <span class="variable">var3</span> <span class="operator">=</span> <span class="string">&quot;a = &quot;</span> + a + <span class="string">&quot;, b = &quot;</span> + b + <span class="string">&quot;, a + b = &quot;</span> + (a + b);</span><br><span class="line">      System.out.println(var3);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹äº®ç‚¹:<br><code>String var3 = &quot;a = &quot; + a + &quot;, b = &quot; + b + &quot;, a + b = &quot; + (a + b);</code></p>
<h2 id="ç±»å’Œå±æ€§"><a href="#ç±»å’Œå±æ€§" class="headerlink" title="ç±»å’Œå±æ€§"></a>ç±»å’Œå±æ€§</h2><blockquote>
<p>è¿™ä¸ªå°†ä¼šåœ¨åç»­ç« èŠ‚ä¸­ç€é‡è®²è§£</p>
</blockquote>
<h3 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h3><p>åœ¨javaä¸­ç±»è¢«å†™æˆè¿™æ ·çš„å½¢å¼:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ idea çš„java è½¬ kotlin ä»£ç çš„è½¬æ¢å™¨è½¬æ¢æˆ kotlin æºç å: </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>(<span class="keyword">var</span> name: String, <span class="keyword">var</span> age: <span class="built_in">Int</span>)</span><br></pre></td></tr></table></figure>

<p>çœ‹èµ·æ¥èˆ’æœå¤šäº†</p>
<blockquote>
<p>åœ¨<code>java</code>è½¬åŒ–æˆ<code>kotlin</code>å, <code>public</code> è¢«éšè—, åœ¨<code>kotlin</code>ä¸­ç±»æ˜¯é»˜è®¤<code>public</code>, è€Œåœ¨<code>java</code>ä¸­é»˜è®¤æ˜¯ <code>default</code> (<code>public default protected private</code>)</p>
</blockquote>
<blockquote>
<p>ps: åœ¨ä½œä¸ºç±»çš„æˆå‘˜å­—æ®µ, ä¹Ÿæ˜¯å±æ€§æ‰€ä»¥éœ€è¦æ˜¾ç¤ºçš„ä½¿ç”¨ <code>val/var</code> æ¥ç¡®å®šå±æ€§çš„ <code>set/get</code> æ–¹æ³•<code>class Person(var name: String, var age: Int)</code>è€Œå‡½æ•°å‚æ•°ä¸éœ€è¦ val&#x2F;var <code>fun sum(a: Int, b: Int)</code>å¯èƒ½æ˜¯å› ä¸ºå®ƒä¸ç”¨ <code>get/set</code> æ–¹æ³•. ä¸è¿‡å¯å˜å‚æ•°éœ€è¦ä¸»åŠ¨å£°æ˜ <code>vararg</code>, ä¾‹å¦‚: <code>ListOf&lt;String&gt;(vararg arr: String)</code></p>
</blockquote>
<h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><table>
<thead>
<tr>
<th>å±æ€§å’Œå­—æ®µçš„åŒºåˆ«</th>
</tr>
</thead>
<tbody><tr>
<td>åœ¨javaä¸­<code>private String name</code> æ˜¯<strong>æˆå‘˜å­—æ®µ</strong>éœ€è¦å¦å¤–åŠ ä¸Š <code>get/set</code> æ–¹æ³•æˆä¸ºå±æ€§</td>
</tr>
<tr>
<td>åœ¨kotlin <code>val/var</code> å£°æ˜å˜é‡æ—¶, å¦‚æœä½¿ç”¨ <code>val</code> å®šä¹‰å˜é‡, å°†è¢«æ ‡è®°æˆåªè¯»å±æ€§, ä»…ç”Ÿæˆ <code>get</code> æ–¹æ³•, ä¸ç”Ÿæˆ<code>set</code>æ–¹æ³•, å¦‚æœä½¿ç”¨çš„ <code>var</code> å®šä¹‰å˜é‡, åˆ™ç”Ÿæˆ <code>set/get</code> æ–¹æ³•</td>
</tr>
</tbody></table>
<ul>
<li>è‡ªå®šä¹‰å±æ€§è®¿é—®å™¨</li>
</ul>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span>(<span class="keyword">val</span> height: <span class="built_in">Int</span>, <span class="keyword">val</span> width: <span class="built_in">Int</span>) &#123;</span><br><span class="line">   <span class="keyword">val</span> isSquare: <span class="built_in">Boolean</span></span><br><span class="line"><span class="comment">//    get() &#123;</span></span><br><span class="line"><span class="comment">//       return height == width</span></span><br><span class="line"><span class="comment">//    &#125; // æ™®é€šå‡½æ•°ä½“å½¢å¼</span></span><br><span class="line"><span class="comment">// get() &#123;height == width&#125; // lamdbaå½¢å¼</span></span><br><span class="line">   <span class="keyword">get</span>() = height == width <span class="comment">// è¡¨è¾¾å¼å‡½æ•°ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>å½“é‡åˆ° <code>kotlin</code> å±æ€§ <code>var isDelete</code> æ—¶, <code>kotlin</code>ä¼šç”Ÿæˆ <code>isDelete</code> æ–¹æ³•å’Œ <code>setDelete</code> æ–¹æ³•</p>
</blockquote>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ad13392ed6a432ca845dd4059291a27~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<h2 id="kotlinä¸­çš„importå…³é”®å­—"><a href="#kotlinä¸­çš„importå…³é”®å­—" class="headerlink" title="kotlinä¸­çš„importå…³é”®å­—"></a>kotlinä¸­çš„<code>import</code>å…³é”®å­—</h2><p>importå…³é”®å­—åœ¨kotlinä¸­å¯ä»¥å¯¼å…¥ç±»å’Œé¡¶å±‚å‡½æ•°(åœ¨javaä¸­å«é™æ€å‡½æ•°)</p>
<p>åœ¨ kotlin ä¸­å†™ä¸€ä¸ªæ‰©å±•å‡½æ•°(å°±æ˜¯æŠŠthiså½“ä½œå‚æ•°ä¼ é€’è¿›å»çš„å‡½æ•°)</p>
<blockquote>
<p>æ³¨æ„ this å½“ä½œå‚æ•°çš„è¯, å°†ä¼šè¢«è®¤ä¸ºæ˜¯ value-parameter ç±»å‹</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> String.<span class="title">lasts</span><span class="params">()</span></span>: <span class="built_in">Char</span> = <span class="keyword">this</span>[<span class="keyword">this</span>.length - <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<p>è€Œåœ¨ kotlinä¸­ä½¿ç”¨ æ‰©å±•å‡½æ•° çš„æ–¹æ³•, <code>val ch = &quot;kotlin&quot;.lasts()</code></p>
<p>åœ¨ java ä¸­å†™æˆè¿™æ ·:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¸å¿ƒä»£ç åœ¨è¿™é‡Œ, æŠŠ è°ƒç”¨ lasts å¯¹è±¡å½“ä½œå‚æ•°ä¼ é€’è¿›å»äº†, è¿™æ­¥éª¤ç”± kotlin è™šæ‹Ÿæœºå®Œæˆ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Char <span class="title function_">lasts</span><span class="params">(String <span class="built_in">this</span> <span class="comment">/* è¿™ä¸ª thiså°±æ˜¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡, å°±æ˜¯å‰é¢ä¾‹å­çš„ &quot;kotlin&quot; */</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// &quot;kotlin&quot;.charAt(&quot;kotlin&quot;.length() - 1) ç±»ä¼¼äºè¿™æ ·</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.charAt(<span class="built_in">this</span>.length() - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p> å…ˆæå‡ºä¸€äº›åé¢çš„çŸ¥è¯†ç‚¹, ä¹‹åè¿˜èƒ½å›å¤´æ¥çœ‹çœ‹</p>
</blockquote>
<p>å›åˆ°æ­£é¢˜, æˆ‘ä»¬åœ¨å¦ä¸€ä¸ªåŒ…é‡Œè°ƒç”¨ <code>lasts</code> é¡¶å±‚å‡½æ•°(é™æ€å‡½æ•°), å°±ä¼šåœ¨kotlinä¸Šé¢è§åˆ°</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base.func.lastChar</span><br></pre></td></tr></table></figure>

<p>å‰é¢çš„ <code>base.func</code> æ˜¯åŒ…å, è€Œ <code>lastChar</code> æ˜¯æ–¹æ³•</p>
<p>å¦‚æœè¦åœ¨å¦ä¸€ä¸ªåŒ…çš„javaä¸­è°ƒç”¨, å°±å˜æˆäº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base.func.ExtensionFuncKt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtensionDemo01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(ExtensionFuncKt.lastChar(<span class="string">&quot;zhazha&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æšä¸¾ç±»"><a href="#æšä¸¾ç±»" class="headerlink" title="æšä¸¾ç±»"></a>æšä¸¾ç±»</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">Color</span>(<span class="keyword">val</span> r: <span class="built_in">Int</span>, <span class="keyword">val</span> g: <span class="built_in">Int</span>, <span class="keyword">val</span> b: <span class="built_in">Int</span>) &#123;</span><br><span class="line">   RED(<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>), ORANGE(<span class="number">255</span>, <span class="number">165</span>, <span class="number">0</span>), YELLOW(<span class="number">255</span>, <span class="number">255</span>, <span class="number">0</span>), GREEN(<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), BLUE(</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">255</span></span><br><span class="line">   ),</span><br><span class="line">   INDIGO(<span class="number">75</span>, <span class="number">0</span>, <span class="number">130</span>), VIOLET(<span class="number">238</span>, <span class="number">130</span>, <span class="number">238</span>);</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">fun</span> <span class="title">rgb</span><span class="params">()</span></span> = (r * <span class="number">256</span> + g) * <span class="number">256</span> + b</span><br><span class="line">   </span><br><span class="line">   <span class="function"><span class="keyword">fun</span> <span class="title">getWarmth</span><span class="params">()</span></span> = <span class="keyword">when</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">      RED, ORANGE, YELLOW -&gt; <span class="string">&quot;warm&quot;</span></span><br><span class="line">      GREEN -&gt; <span class="string">&quot;neutral&quot;</span></span><br><span class="line">      BLUE, INDIGO, VIOLET -&gt; <span class="string">&quot;cold&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>éœ€è¦æ³¨æ„, å¦‚æœæšä¸¾ç±»ä¸­å­˜åœ¨é¢å¤–çš„æ–¹æ³•æˆ–è€…å±æ€§å®šä¹‰, éœ€è¦ä½¿ç”¨ <code>;</code> è¿›è¡Œéš”ç¦»</p>
<blockquote>
<p>æ—©æœŸçš„æšä¸¾æ²¡æœ‰é€—å·å’Œåˆ†å·, ä½†å®šä¹‰æšä¸¾å€¼æ¯”è¾ƒéº»çƒ¦, éœ€è¦è¿™æ ·:</p>
<p><code>RED: Color(255, 0, 0)</code> <code>ORANGE: Color(255, 165, 0)</code>è¿™æ ·ç›¸å½“çš„éº»çƒ¦, è¿˜æœ‰å¾ˆå¤šå¤šä½™çš„è°ƒç”¨, æ¯”è¾ƒç†æƒ³çš„æ–¹å¼å°±åƒæˆ‘ä»¬ä¸Šé¢é‚£ç§<code>RED(255, 0, 0)</code>ç„¶è€Œå¸¦æ¥äº†æ–°çš„é—®é¢˜, æ— æ³•åŒºåˆ†æšä¸¾å€¼å’Œç±»æ–¹æ³•, å‡ ç»å‘¨è½¬(åŠ æ³¨è§£æˆ–è€…æ·»åŠ æ–°å…³é”®å­—ç­‰ç­‰)ä»–ä»¬æ²¡åŠæ³•åªèƒ½ä½¿ç”¨ <code>;</code> æ¥åŒºåˆ†</p>
</blockquote>
<p>å€ŸåŠ©æšä¸¾ç±»å­¦ä¹  <code>when</code> è¡¨è¾¾å¼çš„ä½¿ç”¨æ–¹æ³•</p>
<h2 id="when-è¡¨è¾¾å¼"><a href="#when-è¡¨è¾¾å¼" class="headerlink" title="when è¡¨è¾¾å¼"></a>when è¡¨è¾¾å¼</h2><p>(1) ä½¿ç”¨å‡½æ•°è¡¨è¾¾å¼ä½“çš„å½¢å¼</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getWarmth</span><span class="params">()</span></span> = <span class="keyword">when</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">   RED, ORANGE, YELLOW -&gt; <span class="string">&quot;warm&quot;</span></span><br><span class="line">   GREEN -&gt; <span class="string">&quot;neutral&quot;</span></span><br><span class="line">   BLUE, INDIGO, VIOLET -&gt; <span class="string">&quot;cold&quot;</span></span><br><span class="line">   <span class="keyword">else</span> -&gt; <span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>(2) å‡½æ•°ä½“å½¢å¼</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">getWarmth1</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">   <span class="keyword">when</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">      RED, ORANGE, YELLOW -&gt; <span class="keyword">return</span> <span class="string">&quot;warm&quot;</span></span><br><span class="line">      GREEN -&gt; <span class="keyword">return</span> <span class="string">&quot;neutral&quot;</span></span><br><span class="line">      BLUE, INDIGO, VIOLET -&gt; <span class="keyword">return</span> <span class="string">&quot;cold&quot;</span></span><br><span class="line">      <span class="keyword">else</span> -&gt; <span class="string">&quot;&quot;</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>when</code> ä¸éœ€è¦ <code>break</code> ä»–ä¼šé»˜è®¤ <code>break</code>, <code>when</code> çš„æœ€åè¿˜æœ‰ä¸ª <code>else</code> ç›¸å½“äº <code>switch</code> çš„ <code>default</code> </p>
<p><code>when</code> çš„æ¯ä¸ªåˆ†æ”¯éƒ½æœ‰è¿”å›å€¼, æœ€ç»ˆ <code>when</code> è¡¨è¾¾å¼çš„è¿”å›ç±»å‹å°±æ˜¯æ‰€æœ‰åˆ†æ”¯ç›¸åŒçš„è¿”å›ç±»å‹, æˆ–è€…å…¬å…±çš„çˆ¶ç±»å‹.</p>
<p><code>when</code> çš„å‚æ•°å¯ä»¥å¿½ç•¥</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">when</span> &#123;</span><br><span class="line">    sunny -&gt; library()</span><br><span class="line">    <span class="keyword">else</span> -&gt; study()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å·¦è¾¹çš„ <code>sunny</code> å¿…é¡»æ˜¯ <code>Boolean</code> ç±»å‹</p>
<p>æ‰€ä»¥åªè¦æ»¡è¶³å·¦è¾¹è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹æ˜¯ <code>Boolean</code> éƒ½å¯ä»¥æ”¾åˆ° <code>when</code> ä¸­</p>
<h2 id="æ™ºèƒ½ç±»å‹è½¬æ¢å’Œisè¡¨è¾¾å¼ç±»å‹éšå¼è½¬æ¢"><a href="#æ™ºèƒ½ç±»å‹è½¬æ¢å’Œisè¡¨è¾¾å¼ç±»å‹éšå¼è½¬æ¢" class="headerlink" title="æ™ºèƒ½ç±»å‹è½¬æ¢å’Œisè¡¨è¾¾å¼ç±»å‹éšå¼è½¬æ¢"></a>æ™ºèƒ½ç±»å‹è½¬æ¢å’Œisè¡¨è¾¾å¼ç±»å‹éšå¼è½¬æ¢</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Expr</span> &#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Num</span>(<span class="keyword">val</span> value: <span class="built_in">Int</span>): Expr</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sum</span>(<span class="keyword">val</span> left: Expr, <span class="keyword">val</span> right: Expr): Expr</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">eval</span><span class="params">(e: <span class="type">Expr</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">   <span class="keyword">if</span> (e <span class="keyword">is</span> Num) &#123;</span><br><span class="line">      <span class="keyword">return</span> e.value</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">is</span> Sum) &#123;</span><br><span class="line">      <span class="keyword">return</span> eval(e.left) + eval(e.right)</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown expression&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   println(eval(Sum(Num(<span class="number">1</span>), Sum(Num(<span class="number">2</span>), Num(<span class="number">3</span>)))))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>if (e is Num)</code> ifåˆ¤æ–­è¿”å›ä¸º true æ—¶, åˆ™å˜é‡ <code>e</code> è¢«æ™ºèƒ½è½¬åŒ–æˆ <code>Num</code> ç±»å‹</p>
<blockquote>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>when</code> ä»£æ›¿ <code>if</code> è¡¨è¾¾å¼</p>
</blockquote>
<h3 id="ä½¿ç”¨-is-æ™ºèƒ½è½¬æ¢ç±»å‹æœ‰å‰æ"><a href="#ä½¿ç”¨-is-æ™ºèƒ½è½¬æ¢ç±»å‹æœ‰å‰æ" class="headerlink" title="ä½¿ç”¨ is æ™ºèƒ½è½¬æ¢ç±»å‹æœ‰å‰æ"></a>ä½¿ç”¨ <code>is</code> æ™ºèƒ½è½¬æ¢ç±»å‹æœ‰å‰æ</h3><blockquote>
<p>å˜é‡å¿…é¡»æ˜¯ <code>val</code> å®šä¹‰çš„å˜é‡, å¦åˆ™æ— æ³•æ™ºèƒ½è½¬æ¢, åªèƒ½ä½¿ç”¨ <code>asè¡¨è¾¾å¼</code>æ˜¾ç¤ºçš„è½¬æ¢</p>
</blockquote>
<h2 id="ä½¿ç”¨-as-å¼ºåˆ¶è½¬æ¢ç±»å‹"><a href="#ä½¿ç”¨-as-å¼ºåˆ¶è½¬æ¢ç±»å‹" class="headerlink" title="ä½¿ç”¨ as å¼ºåˆ¶è½¬æ¢ç±»å‹"></a>ä½¿ç”¨ as å¼ºåˆ¶è½¬æ¢ç±»å‹</h2><p>å¯ä»¥ä½¿ç”¨ <code>as</code> å¼ºåˆ¶ç±»å‹, å¦‚æœå¼ºè½¬ä¸æˆ, ç›´æ¥æŠ¥é”™.</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ <code>as?</code> , å¼ºè½¬ä¸æˆ, ç›´æ¥è¿”å› <code>null</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">println((sum.left <span class="keyword">as</span> Num).value)</span><br><span class="line"><span class="keyword">val</span> n = e <span class="keyword">as</span> Num</span><br></pre></td></tr></table></figure>



<h2 id="forå¾ªç¯å’ŒèŒƒå›´è¡¨è¾¾å¼"><a href="#forå¾ªç¯å’ŒèŒƒå›´è¡¨è¾¾å¼" class="headerlink" title="forå¾ªç¯å’ŒèŒƒå›´è¡¨è¾¾å¼"></a>forå¾ªç¯å’ŒèŒƒå›´è¡¨è¾¾å¼</h2><p>åœ¨ Java ä¸­æˆ‘ä»¬ç»å¸¸è¿™æ ·:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ kotlin ä¸­å˜æˆè¿™æ ·:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1.</span><span class="number">.10</span>) &#123;</span><br><span class="line">    println(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="èŒƒå›´è¡¨è¾¾å¼"><a href="#èŒƒå›´è¡¨è¾¾å¼" class="headerlink" title="èŒƒå›´è¡¨è¾¾å¼"></a>èŒƒå›´è¡¨è¾¾å¼</h3><h4 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h4><p>ä¸Šé¢é‚£ç§æƒ…å†µ<code>1..10</code> åœ¨å®˜ç½‘ä¸Šè¯´é€šè¿‡ <code>rangeTo</code> å‡½æ•°å®ç°, èƒ½å¤Ÿä½¿ç”¨è¿™ç§æ–¹å¼çš„ç±»å‹è¿˜éœ€è¦å®ç°<code>java.lang.Conparable</code>æ¥å£, æ¯”å¦‚ <code>String</code> </p>
<p><code>&quot;a&quot;..&quot;z&quot;</code></p>
<p>å°±ä¼šä» <code>&quot;a&quot;</code> éå†åˆ° <code>&quot;z&quot;</code></p>
<p><code>for(i in 1..10) print(i)</code> &#x3D;&#x3D;&gt; <code>12345678910</code></p>
<p>1..10 åŒºé—´è¡¨è¾¾å½¢å¼,  <code>[1, 10]</code> è¡¨ç¤ºä¹‹é—´çš„æ•°, åŒ…æ‹¬ 1 å’Œ 10</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">val</span> interval: IntRange = <span class="number">1.</span><span class="number">.10</span></span><br><span class="line">   <span class="keyword">for</span> (v <span class="keyword">in</span> interval) &#123;</span><br><span class="line">      print(<span class="string">&quot;<span class="variable">$v</span> &quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   println()</span><br><span class="line">   <span class="keyword">for</span> (v <span class="keyword">in</span> interval.last downTo interval.first step <span class="number">1</span>) &#123;</span><br><span class="line">      print(<span class="string">&quot;<span class="variable">$v</span> &quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   println()</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// [1, 10)</span></span><br><span class="line">   <span class="keyword">for</span> (v <span class="keyword">in</span> interval.first until interval.last) &#123;</span><br><span class="line">      print(<span class="string">&quot;<span class="variable">$v</span> &quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span> </span><br><span class="line"><span class="number">10</span> <span class="number">9</span> <span class="number">8</span> <span class="number">7</span> <span class="number">6</span> <span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">2</span> <span class="number">1</span> </span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> </span><br></pre></td></tr></table></figure>

<h4 id="æ­¥é•¿"><a href="#æ­¥é•¿" class="headerlink" title="æ­¥é•¿"></a>æ­¥é•¿</h4><p><code>kotlin</code>è¿˜æä¾›äº† <code>step</code> å‡½æ•°å®šä¹‰è¿­ä»£çš„æ­¥é•¿</p>
<p><code>for (i in 1..10 step 2) println(i)</code>   &#x3D;&#x3D;&gt; <code>&quot;1359&quot;</code></p>
<h4 id="å€’åº"><a href="#å€’åº" class="headerlink" title="å€’åº"></a>å€’åº</h4><p>å¦‚æœéœ€è¦ä½¿ç”¨å€’åº, åˆ™å¯ä»¥ä½¿ç”¨ <code>downTo</code>æ–¹æ³•æ¥å®ç°:</p>
<p><code>for(i in 10 downTo 1 step 2) print(i)</code> &#x3D;&#x3D;&gt; <code>10 8 6 4 2</code></p>
<h4 id="åŠå¼€åŒºé—´"><a href="#åŠå¼€åŒºé—´" class="headerlink" title="åŠå¼€åŒºé—´"></a>åŠå¼€åŒºé—´</h4><p>è¿˜å¯ä»¥ä½¿ç”¨ <code>unitl</code> å‡½æ•°å®ç° <code>åŠå¼€åŒºé—´</code></p>
<p><code>for (i in 1 until 10) &#123; println(i) &#125;</code> &#x3D;&#x3D;&gt; <code>123456789</code></p>
<h4 id="in-æ£€æŸ¥æˆå‘˜æ˜¯å¦å­˜åœ¨"><a href="#in-æ£€æŸ¥æˆå‘˜æ˜¯å¦å­˜åœ¨" class="headerlink" title="in æ£€æŸ¥æˆå‘˜æ˜¯å¦å­˜åœ¨"></a>in æ£€æŸ¥æˆå‘˜æ˜¯å¦å­˜åœ¨</h4><p><code>&quot;a&quot; in listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code> &#x3D;&#x3D;&gt; <code>true</code></p>
<p><code>&quot;kot&quot; in &quot;abc&quot;..&quot;xyz&quot;</code>  &#x3D;&#x3D;&gt; <code>true</code></p>
<p>ä¸Šé¢é‚£ä¸ªç­‰ä»·äºä¸‹é¢è¿™ä¸ª</p>
<p><code>&quot;kot&quot; &gt;= &quot;abc&quot; &amp;&amp; &quot;abc&quot; &lt;= &quot;xyz&quot;</code> &#x3D;&#x3D;&gt; <code>true</code></p>
<h4 id="in-æ£€æŸ¥æˆå‘˜é…åˆæ„Ÿå¹å·-å–åç»“æœ"><a href="#in-æ£€æŸ¥æˆå‘˜é…åˆæ„Ÿå¹å·-å–åç»“æœ" class="headerlink" title="in æ£€æŸ¥æˆå‘˜é…åˆæ„Ÿå¹å·: å–åç»“æœ"></a>in æ£€æŸ¥æˆå‘˜é…åˆæ„Ÿå¹å·: å–åç»“æœ</h4><p><code>&quot;a&quot; !in listOf(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code></p>
<h4 id="for-ä½¿ç”¨è¿­ä»£å™¨éå†"><a href="#for-ä½¿ç”¨è¿­ä»£å™¨éå†" class="headerlink" title="for ä½¿ç”¨è¿­ä»£å™¨éå†"></a>for ä½¿ç”¨è¿­ä»£å™¨éå†</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(c <span class="keyword">in</span> array) &#123;</span><br><span class="line">    println(c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="withIndexé”®å€¼ç»„éå†"><a href="#withIndexé”®å€¼ç»„éå†" class="headerlink" title="withIndexé”®å€¼ç»„éå†"></a>withIndexé”®å€¼ç»„éå†</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ((index, value) <span class="keyword">in</span> array.withIndex()) &#123;</span><br><span class="line">    println(<span class="string">&quot;the element at <span class="variable">$index</span>, is <span class="variable">$value</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="è¿­ä»£map"><a href="#è¿­ä»£map" class="headerlink" title="è¿­ä»£map"></a>è¿­ä»£map</h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">val</span> map = mutableMapOf(</span><br><span class="line">      <span class="number">1</span> to <span class="string">&quot;zhazha&quot;</span>,</span><br><span class="line">      <span class="number">2</span> to <span class="string">&quot;haha&quot;</span>,</span><br><span class="line">      <span class="number">3</span> to <span class="string">&quot;haha&quot;</span>,</span><br><span class="line">      Pair(<span class="number">4</span>, <span class="string">&quot;xixi&quot;</span>),</span><br><span class="line">      Pair&lt;<span class="built_in">Int</span>, String&gt;(<span class="number">5</span>, <span class="string">&quot;heihei&quot;</span>)</span><br><span class="line">   )</span><br><span class="line">   </span><br><span class="line">   map.forEach(<span class="function"><span class="title">fun</span><span class="params">(m: <span class="type">Map</span>.<span class="type">Entry</span>&lt;<span class="type">Int</span>, String&gt;)</span></span>: <span class="built_in">Unit</span> &#123;</span><br><span class="line">      println(<span class="string">&quot;key = <span class="subst">$&#123;m.key&#125;</span>, value = <span class="subst">$&#123;m.value&#125;</span>&quot;</span>)</span><br><span class="line">   &#125;)</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">for</span> ((key, value) <span class="keyword">in</span> map) &#123;</span><br><span class="line">      println(<span class="string">&quot;key = <span class="variable">$key</span>, value = <span class="variable">$value</span>&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// java forEach??? è°ƒç”¨çš„ java Map é‡Œé¢çš„ BiConsumer æ¥å£</span></span><br><span class="line">   map.forEach &#123; key, value -&gt;</span><br><span class="line">      println(<span class="string">&quot;key = <span class="variable">$key</span>, value = <span class="variable">$value</span>&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// Kotlin forEach??? è°ƒç”¨çš„ kotlin çš„ (key, value) -&gt; &#123;&#125; éå† Map æ–¹æ³•</span></span><br><span class="line">   map.forEach &#123; (key, value) -&gt;</span><br><span class="line">      println(<span class="string">&quot;key = <span class="variable">$key</span>, value = <span class="variable">$value</span>&quot;</span>)</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> Set<span class="type">&lt;String&gt;</span>.<span class="title">inSet</span><span class="params">(str: <span class="type">String</span>)</span></span> = str <span class="keyword">in</span> <span class="keyword">this</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> <span class="keyword">set</span> = setOf&lt;String&gt;(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>)</span><br><span class="line"></span><br><span class="line">println(<span class="keyword">set</span>.inSet(<span class="string">&quot;a&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// (ch &gt;= &#x27;a&#x27; &amp;&amp; ch &lt;= &#x27;z&#x27;) || (ch &gt;= &#x27;A&#x27; &amp;&amp; ch &lt;= &#x27;Z&#x27;)</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">isLetter</span><span class="params">(ch: <span class="type">Char</span>)</span></span> = ch <span class="keyword">in</span> <span class="string">&#x27;a&#x27;</span>..<span class="string">&#x27;z&#x27;</span> || ch <span class="keyword">in</span> <span class="string">&#x27;A&#x27;</span>..<span class="string">&#x27;Z&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ch &gt;= &#x27;0&#x27; &amp;&amp; ch &lt;= &#x27;9&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">inNumber</span><span class="params">(ch: <span class="type">Char</span>)</span></span> = ch <span class="keyword">in</span> <span class="string">&#x27;0&#x27;</span>..<span class="string">&#x27;9&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="kotlin-å¼‚å¸¸"><a href="#kotlin-å¼‚å¸¸" class="headerlink" title="kotlin å¼‚å¸¸"></a>kotlin å¼‚å¸¸</h2><p>åœ¨kotlinä¸­, å¼‚å¸¸å¯ä»¥å¤„ç†ä¹Ÿå¯ä»¥ä¸å¤„ç†, ä¹Ÿä¸åœ¨å‡½æ•°å£°æ˜ä¸Š, ä¹Ÿä¸ç”¨å†™ä¸Š<code>throws Exception</code>, é™¤ééœ€è¦ä¸»åŠ¨æŠ›å‡ºå¼‚å¸¸, åˆ™éœ€è¦<code>throw new Exception()</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">val</span> bufferedReader = BufferedReader(InputStreamReader(System.`<span class="keyword">in</span>`))</span><br><span class="line">   <span class="keyword">val</span> number = readNumber(bufferedReader)</span><br><span class="line">   println(number)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">readNumber</span><span class="params">(reader: <span class="type">BufferedReader</span>)</span></span>: <span class="built_in">Int</span>? = <span class="keyword">try</span> &#123;</span><br><span class="line">   <span class="keyword">val</span> line = reader.readLine()</span><br><span class="line">   Integer.parseInt(line)</span><br><span class="line">&#125; <span class="keyword">catch</span> (e: NumberFormatException) &#123;</span><br><span class="line">   <span class="keyword">throw</span> e</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">   reader.close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Bangiao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://bangiao.github.io/2022/12/03/07kotlin/ä¸€ã€kotlinåŸºç¡€è¯­æ³•å­¦ä¹ /">https://bangiao.github.io/2022/12/03/07kotlin/ä¸€ã€kotlinåŸºç¡€è¯­æ³•å­¦ä¹ /</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%BC%82%E5%B8%B8/">å¼‚å¸¸</a><a class="post-meta__tags" href="/tags/%E5%8C%85/">åŒ…</a><a class="post-meta__tags" href="/tags/%E5%87%BD%E6%95%B0/">å‡½æ•°</a><a class="post-meta__tags" href="/tags/%E8%A1%A8%E8%BE%BE%E5%BC%8F/">è¡¨è¾¾å¼</a><a class="post-meta__tags" href="/tags/%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%87%BD%E6%95%B0%E4%BD%93/">è¡¨è¾¾å¼å‡½æ•°ä½“</a><a class="post-meta__tags" href="/tags/%E5%8F%AF%E5%8F%98%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0/">å¯å˜å‡½æ•°å‚æ•°</a><a class="post-meta__tags" href="/tags/lambda/">lambda</a><a class="post-meta__tags" href="/tags/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0/">åŒ¿åå‡½æ•°</a><a class="post-meta__tags" href="/tags/%E5%87%BD%E6%95%B0%E5%86%85%E6%95%9B/">å‡½æ•°å†…æ•›</a><a class="post-meta__tags" href="/tags/%E5%87%BD%E6%95%B0%E5%BC%95%E7%94%A8/">å‡½æ•°å¼•ç”¨</a><a class="post-meta__tags" href="/tags/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/">é«˜é˜¶å‡½æ•°</a><a class="post-meta__tags" href="/tags/%E9%97%AD%E5%8C%85/">é—­åŒ…</a><a class="post-meta__tags" href="/tags/%E5%8F%98%E9%87%8F/">å˜é‡</a><a class="post-meta__tags" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A8%A1%E6%9D%BF/">å­—ç¬¦ä¸²æ¨¡æ¿</a><a class="post-meta__tags" href="/tags/%E7%B1%BB/">ç±»</a><a class="post-meta__tags" href="/tags/%E5%B1%9E%E6%80%A7/">å±æ€§</a><a class="post-meta__tags" href="/tags/import/">import</a><a class="post-meta__tags" href="/tags/%E6%9E%9A%E4%B8%BE%E7%B1%BB/">æšä¸¾ç±»</a><a class="post-meta__tags" href="/tags/when%E8%A1%A8%E8%BE%BE%E5%BC%8F/">whenè¡¨è¾¾å¼</a><a class="post-meta__tags" href="/tags/%E6%99%BA%E8%83%BD%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/">æ™ºèƒ½ç±»å‹è½¬æ¢</a><a class="post-meta__tags" href="/tags/%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2/">éšå¼è½¬æ¢</a><a class="post-meta__tags" href="/tags/for%E5%BE%AA%E7%8E%AF/">forå¾ªç¯</a><a class="post-meta__tags" href="/tags/%E8%8C%83%E5%9B%B4%E8%A1%A8%E8%BE%BE%E5%BC%8F/">èŒƒå›´è¡¨è¾¾å¼</a><a class="post-meta__tags" href="/tags/%E9%81%8D%E5%8E%86/">éå†</a><a class="post-meta__tags" href="/tags/%E6%AD%A5%E9%95%BF/">æ­¥é•¿</a><a class="post-meta__tags" href="/tags/%E5%80%92%E5%8F%99/">å€’å™</a><a class="post-meta__tags" href="/tags/%E5%8D%8A%E5%BC%80%E5%8C%BA%E9%97%B4/">åŠå¼€åŒºé—´</a><a class="post-meta__tags" href="/tags/in/">in</a><a class="post-meta__tags" href="/tags/%E5%8F%96%E5%8F%8D/">å–å</a><a class="post-meta__tags" href="/tags/%E8%BF%AD%E4%BB%A3/">è¿­ä»£</a><a class="post-meta__tags" href="/tags/map/">map</a></div><div class="social-share pull-right" data-disabled="google,facebook"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2022/12/03/07kotlin/%E4%BA%8C%E3%80%81kotlin%E7%9A%84%E5%87%BD%E6%95%B0/"><i class="fa fa-chevron-left">  </i><span>äºŒã€kotlinçš„å‡½æ•°</span></a></div><div class="next-post pull-right"><a href="/2022/11/29/02springcloud/26SpringSecurity-%E6%9D%83%E9%99%90%E6%A8%A1%E5%9E%8B/"><span>26SpringSecurity-æƒé™æ¨¡å‹</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2014 - 2022 By Bangiao</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">è¿™æ˜¯åšå®¢githubä»“åº“åœ°å€ï¼š<a target="_blank" rel="noopener" href="https://github.com/bangiao/bangiao.github.io">bangiao.github.io</a>ï¼Œæ¬¢è¿è®¿é—®!</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>